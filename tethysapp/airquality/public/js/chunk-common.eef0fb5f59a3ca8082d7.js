(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"0484":function(e,t,a){"use strict";a("f539")},"092f":function(e,t,a){},1964:function(e,t,a){},"2c31":function(e,t,a){"use strict";a("1964")},"36ea":function(e,t,a){"use strict";a("092f")},3863:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),o={class:"all-conts"};function r(e,t,a,r,l,i){var c=Object(n["resolveComponent"])("NavBar"),s=Object(n["resolveComponent"])("el-header"),u=Object(n["resolveComponent"])("emissionTabBody"),d=Object(n["resolveComponent"])("el-container");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createVNode"])(d,{class:"cont-outer"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c)]})),_:1}),Object(n["createVNode"])(u)]})),_:1})])}var l=a("a1d9"),i=a.n(l),c=function(e){return Object(n["pushScopeId"])("data-v-de254ea2"),e=e(),Object(n["popScopeId"])(),e},s={class:"navbar navbar-light template-nabar full-height"},u=c((function(){return Object(n["createElementVNode"])("a",{class:"navbar-brand",href:""},"Air Quality Watch - HKH",-1)})),d=c((function(){return Object(n["createElementVNode"])("div",{class:"nav-logo-image"},[Object(n["createElementVNode"])("img",{class:"logo-image-style",src:i.a,alt:""})],-1)})),p=[u,d];function m(e,t,a,o,r,l){return Object(n["openBlock"])(),Object(n["createElementBlock"])("nav",s,p)}var b={name:"NavBar"},_=(a("dd73"),a("6b0d")),f=a.n(_);const h=f()(b,[["render",m],["__scopeId","data-v-de254ea2"]]);var g=h;function y(e,t,a,o,r,l){var i=Object(n["resolveComponent"])("mapControlsEmission"),c=Object(n["resolveComponent"])("el-col"),s=Object(n["resolveComponent"])("el-row"),u=Object(n["resolveComponent"])("chartComponent"),d=Object(n["resolveComponent"])("mapComponentEmission"),p=Object(n["resolveComponent"])("about");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{class:"airquality"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{span:6,class:"full-height"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{class:"first-row"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{span:24,class:"full-height full-width padding-left-10 padding-bottom-5 padding-top-10 padding-right-5"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i)]})),_:1})]})),_:1}),Object(n["createVNode"])(s,{class:"second-row"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{span:24,class:"full-height full-width padding-left-10 padding-bottom-10 padding-top-5 padding-right-5"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{IndexValue:1})]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(c,{span:12,class:"full-height"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{class:"first-row"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{span:24,class:"full-height full-width padding-left-5 padding-bottom-5 padding-top-10 padding-right-5"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d)]})),_:1})]})),_:1}),Object(n["createVNode"])(s,{class:"second-row"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{span:12,class:"full-height full-width padding-left-5 padding-bottom-10 padding-top-5 padding-right-5"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{IndexValue:2})]})),_:1}),Object(n["createVNode"])(c,{span:12,class:"full-height full-width padding-left-5 padding-bottom-10 padding-top-5 padding-right-5"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{IndexValue:3})]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(c,{span:6,class:"full-height"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{class:"first-row"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{span:24,class:"full-height full-width padding-left-5 padding-bottom-5 padding-top-10 padding-right-10"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p)]})),_:1})]})),_:1}),Object(n["createVNode"])(s,{class:"second-row"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{span:24,class:"full-height full-width padding-left-5 padding-bottom-10 padding-top-5 padding-right-10"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{IndexValue:4})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var O=a("1da1"),v=(a("96cf"),a("8163")),S=a.n(v),C=function(e){return Object(n["pushScopeId"])("data-v-678cc34e"),e=e(),Object(n["popScopeId"])(),e},w={class:"card-box full-height full-width about-div"},V={class:"pannel-title"},D=C((function(){return Object(n["createElementVNode"])("h6",{class:"title-heading"},"About ",-1)})),j=C((function(){return Object(n["createElementVNode"])("i",{class:"el-icon-info"},null,-1)})),I={class:"body-container"},x=C((function(){return Object(n["createElementVNode"])("p",{style:{"text-align":"justify","font-size":"12px"}}," ICIMOD is a regional intergovernmental learning and knowledge-sharing centre serving the eight regional member countries of the Hindu Kush Himalaya (HKH) – Afghanistan, Bangladesh, Bhutan, China, India, Myanmar, Nepal, and Pakistan. Working in partnership with regional and international organizations, ICIMOD aims to influence policy and practices to meet environmental and livelihood challenges emerging in the HKH. ICIMOD provides a platform for researchers, practitioners, and policy makers from the region and around the globe to generate and share knowledge, support evidence-based decision making, and encourage regional cooperation. ",-1)})),P=C((function(){return Object(n["createElementVNode"])("p",{style:{"text-align":"justify","font-size":"12px"}}," ICIMOD works through its six regional programmes: 1) Adaptation and Resilience Building, 2) Transboundary Landscapes, 3) River Basins and Cryosphere, 4) Atmosphere, 5) Mountain Environment Regional Information System, and 6) Mountain Knowledge and Action Networks. These regional programmes are supported by four thematic areas – Livelihoods, Ecosystem Services, Water and Air, and Geospatial Solutions – and underpinned by the Knowledge Management and Communication (KMC) Unit. The Regional Atmosphere Programme involves in identifying, testing, and piloting mitigation solutions; building capacity and outreach; fostering regional collaboration and building cross-border networks; and contributing to policy at local, national, regional, and global levels. ",-1)})),A=Object(n["createTextVNode"])("View More .."),T=C((function(){return Object(n["createElementVNode"])("span",null,[Object(n["createElementVNode"])("div",{class:"contributor",style:{"text-align":"center"}},[Object(n["createElementVNode"])("img",{src:S.a,style:{height:"50px",position:"relative",top:"5px"}})]),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("p",{style:{"text-align":"justify"}}," ICIMOD is a regional intergovernmental learning and knowledge-sharing centre serving the eight regional member countries of the Hindu Kush Himalaya (HKH) – Afghanistan, Bangladesh, Bhutan, China, India, Myanmar, Nepal, and Pakistan. Working in partnership with regional and international organizations, ICIMOD aims to influence policy and practices to meet environmental and livelihood challenges emerging in the HKH. ICIMOD provides a platform for researchers, practitioners, and policy makers from the region and around the globe to generate and share knowledge, support evidence-based decision making, and encourage regional cooperation. "),Object(n["createElementVNode"])("p",{style:{"text-align":"justify"}}," ICIMOD works through its six regional programmes: 1) Adaptation and Resilience Building, 2) Transboundary Landscapes, 3) River Basins and Cryosphere, 4) Atmosphere, 5) Mountain Environment Regional Information System, and 6) Mountain Knowledge and Action Networks. These regional programmes are supported by four thematic areas – Livelihoods, Ecosystem Services, Water and Air, and Geospatial Solutions – and underpinned by the Knowledge Management and Communication (KMC) Unit. The Regional Atmosphere Programme involves in identifying, testing, and piloting mitigation solutions; building capacity and outreach; fostering regional collaboration and building cross-border networks; and contributing to policy at local, national, regional, and global levels. "),Object(n["createElementVNode"])("p",{style:{"text-align":"justify"}}," The Atmospheric Watch Initiative (AWI) was established in 2013 as part of our regional programme on Atmosphere. Until December 2019, this Initiative was known as the Atmosphere Initiative. AWI’s goal is to promote the adoption of effective measures and policies to reduce air pollution and its impacts within the HKH through improved knowledge and enhanced capacity of our regional partners. Its work includes improving scientific understanding of emissions sources, atmospheric processes and change, and air pollution impacts in the HKH. The initiative is involved in identifying, testing, and piloting mitigation solutions; building capacity and outreach; fostering regional collaboration and building cross-border networks; and contributing to policy at local, national, regional, and global levels. "),Object(n["createElementVNode"])("p",{style:{"text-align":"justify"}}," AWI is developing an integrated information platform linking air quality data from various platforms for enhanced decision support in the region. This open source platform provides data analysis support to professionals responsible for air quality management and regulators. Users of this system will be able to compare different pollutants as well as single pollutant observation from different publicly available data repositories (in-situ, satellite, model) giving a wider understanding of the observed situation. ")])],-1)})),L={class:"dialog-footer"},E=Object(n["createTextVNode"])("Cancel");function k(e,t,a,o,r,l){var i=Object(n["resolveComponent"])("el-button"),c=Object(n["resolveComponent"])("el-scrollbar"),s=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",w,[Object(n["createElementVNode"])("div",V,[D,Object(n["createVNode"])(i,{class:"infoButton",type:"text",onClick:t[0]||(t[0]=function(e){return r.centerDialogVisible=!0})},{default:Object(n["withCtx"])((function(){return[j]})),_:1})]),Object(n["createElementVNode"])("div",I,[Object(n["createVNode"])(c,{height:"100%"},{default:Object(n["withCtx"])((function(){return[x,P,Object(n["createVNode"])(i,{type:"text",onClick:t[1]||(t[1]=function(e){return r.centerDialogVisible=!0})},{default:Object(n["withCtx"])((function(){return[A]})),_:1})]})),_:1})]),Object(n["createVNode"])(s,{title:"Air Quality Information System",modelValue:r.centerDialogVisible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.centerDialogVisible=e}),width:"75%",center:""},{footer:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("span",L,[Object(n["createVNode"])(i,{class:"cancel-dialog",onClick:t[2]||(t[2]=function(e){return r.centerDialogVisible=!1})},{default:Object(n["withCtx"])((function(){return[E]})),_:1})])]})),default:Object(n["withCtx"])((function(){return[T]})),_:1},8,["modelValue"])])}var N={name:"about",data:function(){return{centerDialogVisible:!1}}};a("2c31");const M=f()(N,[["render",k],["__scopeId","data-v-678cc34e"]]);var R=M,G=function(e){return Object(n["pushScopeId"])("data-v-2858a76c"),e=e(),Object(n["popScopeId"])(),e},B={class:"card-box full-height full-width about-div",ref:"outerViz"},F=["id"],W={class:"flex-center-vertically"},U={key:1,class:"position-relative full-width full-height",ref:"Image2D"},z=G((function(){return Object(n["createElementVNode"])("i",{class:"fas fa-download"},null,-1)})),$=[z],H={class:"vertically-center"},Y=["width","src"];function q(e,t,a,o,r,l){var i=Object(n["resolveComponent"])("el-skeleton");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",B,["chart"==r.visualizationIn?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:"chart-div",id:"chart"+a.IndexValue,ref:"ChartDiv"},[Object(n["createElementVNode"])("div",W,[Object(n["createVNode"])(i,{rows:5,animated:""})])],8,F)):Object(n["createCommentVNode"])("",!0),"2Dimage"==r.visualizationIn?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",U,[Object(n["createElementVNode"])("div",{class:"download-map-Image",onClick:t[0]||(t[0]=function(e){return l.downloadImage()})},$),Object(n["createElementVNode"])("div",H,[Object(n["createElementVNode"])("img",{class:"generated-image",width:r.imageInfo.width,src:r.imageInfo.url},null,8,Y)])],512)):Object(n["createCommentVNode"])("",!0)],512)}var K=a("5530"),X=(a("a9e3"),a("4de4"),a("d3b7"),a("159b"),a("ac1f"),a("1276"),a("4978")),Q=a.n(X),Z={$on:function(){return Q.a.on.apply(Q.a,arguments)},$once:function(){return Q.a.once.apply(Q.a,arguments)},$off:function(){return Q.a.off.apply(Q.a,arguments)},$emit:function(){return Q.a.emit.apply(Q.a,arguments)}},J=a("ea7f"),ee=a.n(J),te=a("0319"),ae=a.n(te),ne=a("d68a"),oe=a.n(ne),re=a("4e8b"),le=a.n(re),ie=a("33c6"),ce=a.n(ie),se=a("b85c"),ue=(a("a15b"),a("99af"),a("5319"),a("fb6a"),a("4e82"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("6c77")),de=a("35d8"),pe=a("83a6"),me=a("8682"),be=a("8295"),_e="airquality",fe="airquality",he="http://smog.icimod.org:8080/thredds/",ge=!1,ye={colorScheme:"jet",BBOX:[60,15,110,40],tickSpan:10,Resolution:600,width:12,height:9},Oe={},ve={};Oe.startDate=new Date,Oe.startDate.setDate(Oe.startDate.getDate()-1),Oe.endDate=new Date,Oe.startDateArchive=new Date,Oe.startDateArchive.setDate(Oe.startDateArchive.getDate()-1),Oe.endDateArchive=new Date,Oe.forecastDate=new Date,Oe.forecastDate.setDate(Oe.forecastDate.getDate()-1),Oe.IndexColors=["#0C6CE9","#962422","#1D5430","#F76743"],Oe.APICollection={layerData:{Aeronet:"/apps/"+fe+"/aeronetaodpm/",USEmbassyAOD:"/apps/"+fe+"/usembassypm/",getGeoJSONofStations:"/apps/"+fe+"/getGeoJSONofStations/",getGeoJsonForOneSatation:"/apps/"+fe+"/getGeoJsonForOneSatation/",getAllStationsID:"/apps/"+fe+"/getAllStationsID/"},api:{commonAPI:"/apps/"+fe+"/getData/",RegionGeojson:"/apps/"+fe+"/geojsonregion/",AOIPolygon:"/apps/"+fe+"/aoipolygon/",GetMapImage:"/apps/"+fe+"/getmapimage/",GetImage:"/apps/"+fe+"/downloadImage/",SlicedFromCatalog:"/apps/"+fe+"/slicedfromcatalog/"}},Oe.constants={recent:{layerId:{TerraModisTrueColor:"Recent__TerraModisTrueColor",PM_AeronetAOD:"Recent__aeronet",PM_usembassy:"Recent__usembassy",GEOS_PM2p5:"Recent__GEOS_PM2p5",TerraModisAOD:"Recent__TerraModisAOD",O3_GEOS:"Recent__GEOS_O3",O3_usembassy:"Recent__usembassy_O3",SO2_GEOS:"Recent__GEOS_SO2",NO2_GEOS:"Recent__GEOS_NO2",CO_GEOS:"Recent__GEOS_CO"}},archive:{layerId:{TerraModisTrueColor:"Archive__TerraModisTrueColor",GEOS_PM2p5:"Archive__GEOS_PM2p5",TerraModisAOD:"Archive__TerraModisAOD",PM_AeronetAOD:"Archive__aeronet",PM_usembassy:"Archive__usembassy",O3_usembassy:"Archive__usembassy_O3",O3_TROPOMI:"Archive__TROPOMI_O3",O3_GEOS:"Archive__GEOS_O3",SO2_TROPOMI:"Archive__TROPOMI_SO2",SO2_GEOS:"Archive__GEOS_SO2",NO2_TROPOMI:"Archive__TROPOMI_NO2",NO2_GEOS:"Archive__GEOS_NO2",CO_TROPOMI:"Archive__TROPOMI_CO",CO_GEOS:"Archive__GEOS_CO"}},forecast:{layerId:{GEOS_PM2p5:"Forecast__GEOS_PM2p5",O3_GEOS:"Forecast__GEOS_O3",SO2_GEOS:"Forecast__GEOS_SO2",NO2_GEOS:"Forecast__GEOS_NO2",CO_GEOS:"Forecast__GEOS_CO"}}},Oe.IndexColors=["#0C6CE9","#962422","#1D5430","#F76743"],Oe.AllBindedLayersList=[],Oe.OnlyOnce=!0,Oe.getLayer=function(e){for(var t,a=0;a<Oe.AllBindedLayersList.length;a++)if(e==Oe.AllBindedLayersList[a].getProperties().id){t=Oe.AllBindedLayersList[a].getLayer();break}return t},Oe.AeronetAODStyleFun=function(e,t){var a=e.get("name");t>2445.98490512564&&(a="");var n=null;return n=new ue["c"]({image:new de["a"]({fill:new pe["a"]({color:"#D5212E"}),stroke:new me["a"]({color:"black",width:1}),points:3,radius:10,rotation:0,angle:0}),text:new be["a"]({font:"normal 12px Arial",text:a,fill:new pe["a"]({color:"#aa3300"}),stroke:new me["a"]({color:"#ffffff",width:3}),offsetX:0,offsetY:15})}),n},Oe.USEmbassyPM25StyleFun=function(e,t){var a=e.get("name");t>2445.98490512564&&(a="");var n=null;return n=new ue["c"]({image:new de["a"]({fill:new pe["a"]({color:"#CBCB59"}),stroke:new me["a"]({color:"black",width:1}),points:4,radius:10,angle:Math.PI/4}),text:new be["a"]({font:"normal 12px Arial",text:a,fill:new pe["a"]({color:"#aa3300"}),stroke:new me["a"]({color:"#ffffff",width:3}),offsetX:0,offsetY:15})}),n},Oe.USEmbassyO3StyleFun=function(e,t){var a=e.get("name");t>2445.98490512564&&(a="");var n=null;return n=new ue["c"]({image:new de["a"]({fill:new pe["a"]({color:"#CBCB59"}),stroke:new me["a"]({color:"black",width:1}),points:4,radius:10,angle:Math.PI/4}),text:new be["a"]({font:"normal 12px Arial",text:a,fill:new pe["a"]({color:"#aa3300"}),stroke:new me["a"]({color:"#ffffff",width:3}),offsetX:0,offsetY:15})}),n},Oe.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[o,a,n].join("-")},Oe.LayerCollectionObjet={Recent:{data:[{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/TerraMODIS-TrueColor1km/catalog.xml",useSLD:!0,isTimeDimensionLayer:!0,SLD:'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.1.0" xsi:schemaLocation="http://www.opengis.net/sldStyledLayerDescriptor.xsd"\n                       xmlns="http://www.opengis.net/sld" xmlns:ogc="http://www.opengis.net/ogc"\n                       xmlns:se="http://www.opengis.net/se" xmlns:xlink="http://www.w3.org/1999/xlink"\n                       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:resc="http://www.resc.reading.ac.uk">\n    <NamedLayer>\n     <se:Name>red</se:Name>\n        <UserStyle>\n            <se:Name>Thesholded colour scheme</se:Name>\n            <se:CoverageStyle>\n                <se:Rule>\n                    <resc:RasterRGBSymbolizer>\n                        <se:Opacity>1.0</se:Opacity>\n                        <se:ColorMap>\n                            <resc:RedBand>\n                                <resc:BandName>red</resc:BandName>\n                                <resc:Range>\n                                    <resc:Minimum>0</resc:Minimum>\n                                    <resc:Maximum>255</resc:Maximum>\n                                </resc:Range>\n                            </resc:RedBand>\n                            <resc:GreenBand>\n                                <resc:BandName>green</resc:BandName>\n                                <resc:Range>\n                                    <resc:Minimum>0</resc:Minimum>\n                                    <resc:Maximum>255</resc:Maximum>\n                                </resc:Range>\n                            </resc:GreenBand>\n                            <resc:BlueBand>\n                                <resc:BandName>blue</resc:BandName>\n                                <resc:Range>\n                                    <resc:Minimum>1</resc:Minimum>\n                                    <resc:Maximum>255</resc:Maximum>\n                                    <resc:Spacing>linear</resc:Spacing>\n                                </resc:Range>\n                            </resc:BlueBand>\n                        </se:ColorMap>\n                    </resc:RasterRGBSymbolizer>\n                </se:Rule>\n            </se:CoverageStyle>\n        </UserStyle>\n    </NamedLayer>\n</StyledLayerDescriptor>\n',getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.startDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.recent.layerId.TerraModisTrueColor,title:"TerraModis-TrueColor ("+Oe.formatDate(Oe.startDate)+")",visible:!0,opacity:1,legendPath:"/static/"+_e+"/images/rgbLegend.png",ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!1,zIndex:10,source:{url:[],params:{LAYERS:"red",transparent:!0}},mask:ge,CropOrMask:"crop",changeWMSProxy:!0}}]},Archive:{data:[{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/TerraMODIS-TrueColor1km/catalog.xml",useSLD:!0,isTimeDimensionLayer:!0,SLD:'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.1.0" xsi:schemaLocation="http://www.opengis.net/sldStyledLayerDescriptor.xsd"\n                       xmlns="http://www.opengis.net/sld" xmlns:ogc="http://www.opengis.net/ogc"\n                       xmlns:se="http://www.opengis.net/se" xmlns:xlink="http://www.w3.org/1999/xlink"\n                       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:resc="http://www.resc.reading.ac.uk">\n    <NamedLayer>\n     <se:Name>red</se:Name>\n        <UserStyle>\n            <se:Name>Thesholded colour scheme</se:Name>\n            <se:CoverageStyle>\n                <se:Rule>\n                    <resc:RasterRGBSymbolizer>\n                        <se:Opacity>1.0</se:Opacity>\n                        <se:ColorMap>\n                            <resc:RedBand>\n                                <resc:BandName>red</resc:BandName>\n                                <resc:Range>\n                                    <resc:Minimum>0</resc:Minimum>\n                                    <resc:Maximum>255</resc:Maximum>\n                                </resc:Range>\n                            </resc:RedBand>\n                            <resc:GreenBand>\n                                <resc:BandName>green</resc:BandName>\n                                <resc:Range>\n                                    <resc:Minimum>0</resc:Minimum>\n                                    <resc:Maximum>255</resc:Maximum>\n                                </resc:Range>\n                            </resc:GreenBand>\n                            <resc:BlueBand>\n                                <resc:BandName>blue</resc:BandName>\n                                <resc:Range>\n                                    <resc:Minimum>1</resc:Minimum>\n                                    <resc:Maximum>255</resc:Maximum>\n                                    <resc:Spacing>linear</resc:Spacing>\n                                </resc:Range>\n                            </resc:BlueBand>\n                        </se:ColorMap>\n                    </resc:RasterRGBSymbolizer>\n                </se:Rule>\n            </se:CoverageStyle>\n        </UserStyle>\n    </NamedLayer>\n</StyledLayerDescriptor>\n',getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!0,threddLayerProp:{id:Oe.constants.archive.layerId.TerraModisTrueColor,title:"TerraModis-TrueColor",visible:!0,opacity:1,legendPath:"/static/"+_e+"/images/rgbLegend.png",ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,zIndex:10,filterCoodrdinate:ve,RGBComposite:!0,source:{url:[],params:{LAYERS:"red",transparent:!0}},mask:ge,CropOrMask:"crop",changeWMSProxy:!0}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/PM/GEOS-PM2p5/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.GEOS_PM2p5,title:"GEOS PM2.5",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"PM2p5",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,100",transparent:!0}},unit:"µg/m<sup>3<sup>",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:11,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage},plotInfo:function(){return Object.assign(ye,{title:"GEOS $PM_{2.5}$(µg/$m^{3}$)",TimeZone:" UTC"})},chartDetail:{title:"GEOS",unit:"PM<sub>2.5</sub>(µg/m<sup>3</sup>)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/PM/TerraModis-AOD/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.TerraModisAOD,title:"TerraModis-AOD",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"aod_550",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0.01,1",transparent:!0}},unit:"",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:12,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"TerraModis-AOD",TimeZone:" UTC"})},chartDetail:{title:"TerraModis-AOD",unit:"AOD",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/O3/TROPOMI-O3/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.O3_TROPOMI,title:"TROPOMI O3",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"O3",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,1",transparent:!0}},unit:"",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:13,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"TROPOMI $O_{3}$($10^{19}$ molecules/$cm^{2}$)",TimeZone:" UTC"})},chartDetail:{title:"TROPOMI",unit:"O<sub>3</sub> (10<sup>19</sup> molecules/cm<sup>2</sup>)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/O3/GEOS-O3/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.O3_GEOS,title:"GEOS O3",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"O3",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,80",transparent:!0}},unit:"ppb",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:14,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"GEOS $O_{3}$(ppb)",TimeZone:" UTC"})},chartDetail:{title:"GEOS",unit:" O<sub>3</sub> (ppb)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/SO2/TROPOMI-SO2/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.SO2_TROPOMI,title:"TROPOMI SO2",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"SO2",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,1",transparent:!0}},unit:"molecules / sq.cm",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:15,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"TROPOMI $SO_{2}$($10^{17}$ molecules/$cm^{2}$)",TimeZone:" UTC"})},chartDetail:{title:"TROPOMI",unit:"SO<sub>2</sub> (10<sup>17</sup> molecules/cm<sup>2</sup>)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/SO2/GEOS-SO2/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.SO2_GEOS,title:"GEOS SO2",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"SO2",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,10",transparent:!0}},unit:"ppb",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:16,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"GEOS $SO_{2}$(ppb)",TimeZone:" UTC"})},chartDetail:{title:"GEOS",unit:"SO<sub>2</sub> (ppb)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/NO2/TROPOMI-NO2/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.NO2_TROPOMI,title:"TROPOMI NO2",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"NO2",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,10",transparent:!0}},unit:"molecules / sq.cm",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:17,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"TROPOMI $NO_{2}$($10^{15}$ molecules/$cm^{2}$)",TimeZone:" UTC"})},chartDetail:{title:"TROPOMI",unit:"NO<sub>2</sub> (10<sup>15</sup> molecules/cm<sup>2</sup>)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/NO2/GEOS-NO2/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.NO2_GEOS,title:"GEOS NO2",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"NO2",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,10",transparent:!0}},unit:"ppb",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:18,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"GEOS $NO_{2}$(ppb)",TimeZone:" UTC"})},chartDetail:{title:"GEOS",unit:"NO<sub>2</sub> (ppb)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/CO/TROPOMI-CO/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.CO_TROPOMI,title:"TROPOMI CO",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"CO",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"1,4",transparent:!0}},unit:"molecules / sq.cm",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:19,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"TROPOMI CO($10^{18}$ molecules/$cm^{2}$)",TimeZone:" UTC"})},chartDetail:{title:"TROPOMI",unit:"CO (10<sup>18</sup> molecules/cm<sup>2</sup>)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/RecentAndArchive/CO/GEOS-CO/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,getStartDate:function(){return Oe.formatDate(Oe.startDate)},getEndDate:function(){return Oe.formatDate(Oe.endDate)},VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.archive.layerId.CO_GEOS,title:"GEOS CO",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"CO",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,500",transparent:!0}},unit:"ppb",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:20,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"GEOS CO(ppb)"})},chartDetail:{title:"GEOS",unit:"CO (ppb)",SeriesName:"value"}}}]},Forecast:{data:[{catalog:"catalog/HKHAirQualityWatch/Forecast/PM/GEOS-PM2p5/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.forecast.layerId.GEOS_PM2p5,title:"GEOS PM2.5",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"PM2p5",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,100",transparent:!0}},unit:"µg/m<sup>3<sup>",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:20,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage},plotInfo:function(){return Object.assign(ye,{title:"GEOS $PM_{2.5}$(µg/$m^{3}$)",TimeZone:" UTC"})},chartDetail:{title:"GEOS",unit:"PM<sub>2.5</sub>(µg/m<sup>3</sup>)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/Forecast/CO/GEOS-CO/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.forecast.layerId.CO_GEOS,title:"GEOS CO",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"CO",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,500",transparent:!0}},unit:"",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:21,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"GEOS CO(ppb)"})},chartDetail:{title:"GEOS",unit:"CO (ppb)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/Forecast/NO2/GEOS-NO2/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.forecast.layerId.NO2_GEOS,title:"GEOS NO2",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"NO2",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,10",transparent:!0}},unit:"",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:22,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"TROPOMI $NO_{2}$($10^{15}$ molecules/$cm^{2}$)"})},chartDetail:{title:"GEOS",unit:"NO<sub>2</sub> (ppb)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/Forecast/O3/GEOS-O3/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.forecast.layerId.O3_GEOS,title:"GEOS O3",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"O3",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,80",transparent:!0}},unit:"",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:23,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"GEOS $O_{3}$(ppb)"})},chartDetail:{title:"GEOS",unit:" O<sub>3</sub> (ppb)",SeriesName:"value"}}},{catalog:"catalog/HKHAirQualityWatch/Forecast/SO2/GEOS-SO2/catalog.xml",useSLD:!1,isTimeDimensionLayer:!0,VisibleDivBind:!1,threddLayerProp:{id:Oe.constants.forecast.layerId.SO2_GEOS,title:"GEOS SO2",visible:!1,opacity:.6,ThreddsDataServerVersion:5,serverType:"TDS",timeSeries:!1,alignTimeSlider:"left",timeSliderSize:"small",showlegend:!1,showControlPanel:!0,source:{url:[],params:{LAYERS:"SO2",STYLES:"default-scalar/x-Rainbow",COLORSCALERANGE:"0,10",transparent:!0}},unit:"",mask:ge,CropOrMask:"crop",changeWMSProxy:!0,filterCoodrdinate:ve,aoi:!0,zIndex:24,api:{createGIF:Oe.APICollection.api.CreateGIFImage,GetImage:Oe.APICollection.api.GetImage,TimeZone:" UTC"},plotInfo:function(){return Object.assign(ye,{title:"TROPOMI $SO_{2}$($10^{17}$ molecules/$cm^{2}$)"})},chartDetail:{title:"GEOS",unit:"SO<sub>2</sub> (ppb)",SeriesName:"value"}}}]}},Oe.DefaultSations={aeronetAOD:[2,5,13,6],pm2p5Embassy:[6,4,2,8],o3Embassy:[6,4,7,8]},Oe.cascaderObject={Recent:{data:[{label:"PM",value:1,children:[{label:"Surface Observation-AOD (AERONET)",value:11,layerId:Oe.constants.recent.layerId.PM_AeronetAOD,otherval:"test",stationData:!0,styleFunction:Oe.AeronetAODStyleFun,NotificationWhenAdded:"Please Select AERONET AOD Station on map",ModelClass:"AeronetAod",ModelClassDataList:"AeronetDataList",typeName:"aod",defaultStation:Oe.DefaultSations.aeronetAOD,chart:{title:function(e,t){return"AERONET AOD at "+e+" ("+t+")"},subTitle:"AERONET level 1.5 data measured at 500nm",SeriesName:"SeriesName",YaxisLabel:"AOD (500nm)",XaxisLabel:function(){return"Time (UTC)"},plotType:"point"}},{label:"Ground Observation-PM2.5",layerId:Oe.constants.recent.layerId.PM_usembassy,value:12,stationData:!0,styleFunction:Oe.USEmbassyPM25StyleFun,NotificationWhenAdded:"Please Select US Embassy 2.5 Station on map",ModelClass:"UsEmbassyPm",ModelClassDataList:"UsEmbassyDataList",typeName:"pm",defaultStation:Oe.DefaultSations.pm2p5Embassy,chart:{title:function(e,t){return e+" ("+t+")"},subTitle:"source: AirNow",SeriesName:"PM2.5",YaxisLabel:"PM<sub>2.5</sub>(μg/m<sup>3</sup>)",XaxisLabel:function(){return"Time (UTC)"}}}]},{label:"O3",value:2,children:[{label:"Surface Observation-O3",layerId:Oe.constants.recent.layerId.O3_usembassy,value:23,stationData:!0,styleFunction:Oe.USEmbassyO3StyleFun,NotificationWhenAdded:"Please Select US Embassy O3 Station on map",ModelClass:"UsEmbassyPm",ModelClassDataList:"UsEmbassyDataList",typeName:"O3",defaultStation:Oe.DefaultSations.o3Embassy,chart:{title:function(e,t){return e+" ("+t+")"},subTitle:"source: AirNow",SeriesName:"O3",YaxisLabel:"O<sub>3</sub>(ppb)",XaxisLabel:function(){return"Time (UTC)"}}}]}]},Archive:{data:[{label:"PM",value:1,children:[{label:"Surface Observation-AOD (AERONET)",value:11,layerId:Oe.constants.archive.layerId.PM_AeronetAOD,stationData:!0,styleFunction:Oe.AeronetAODStyleFun,NotificationWhenAdded:"Please Select AERONET AOD Station on map",ModelClass:"AeronetAod",ModelClassDataList:"AeronetDataList",typeName:"aod",defaultStation:Oe.DefaultSations.aeronetAOD,chart:{title:function(e,t,a){return"".concat(e," (").concat(t," - ").concat(a,")")},subTitle:"AERONET level 1.5 data measured at 500nm",SeriesName:"SeriesName",YaxisLabel:"AOD",XaxisLabel:function(){return"Time (UTC)"},plotType:"point"}},{label:"Ground Observation-PM2.5",layerId:Oe.constants.archive.layerId.PM_usembassy,value:12,stationData:!0,styleFunction:Oe.USEmbassyPM25StyleFun,NotificationWhenAdded:"Please Select US Embassy 2.5 Station on map",ModelClass:"UsEmbassyPm",ModelClassDataList:"UsEmbassyDataList",typeName:"pm",defaultStation:Oe.DefaultSations.pm2p5Embassy,chart:{title:function(e,t,a){return"".concat(e," (").concat(t," - ").concat(a,")")},subTitle:"source: AirNow",SeriesName:"PM2.5",YaxisLabel:"PM<sub>2.5</sub>(μg/m<sup>3</sup>)",XaxisLabel:function(){return"Time (UTC)"}}},{label:"Model-PM2.5 (GEOS)",layerId:Oe.constants.archive.layerId.GEOS_PM2p5,value:13},{label:"Satellite-AOD (Terra-MODIS)",layerId:Oe.constants.archive.layerId.TerraModisAOD,value:14}]},{label:"O3",value:2,children:[{label:"Model-O3 (GEOS)",layerId:Oe.constants.archive.layerId.O3_GEOS,value:22},{label:"Surface Observation-O3",layerId:Oe.constants.archive.layerId.O3_usembassy,value:23,stationData:!0,styleFunction:Oe.USEmbassyO3StyleFun,NotificationWhenAdded:"Please Select US Embassy O3 Station on map",ModelClass:"UsEmbassyPm",ModelClassDataList:"UsEmbassyDataList",typeName:"O3",defaultStation:Oe.DefaultSations.o3Embassy,chart:{title:function(e,t,a){return"".concat(e," (").concat(t," - ").concat(a,")")},subTitle:"source: AirNow",SeriesName:"O3",YaxisLabel:"O<sub>3</sub>(ppb)",XaxisLabel:function(){return"Time (UTC)"}}}]},{label:"SO2",value:3,children:[{label:"Satellite-SO2 (TROPOMI)",layerId:Oe.constants.archive.layerId.SO2_TROPOMI,value:31},{label:"Model-SO2 (GEOS)",layerId:Oe.constants.archive.layerId.SO2_GEOS,value:32}]},{label:"NO2",value:4,children:[{label:"Satellite-NO2 (TROPOMI)",layerId:Oe.constants.archive.layerId.NO2_TROPOMI,value:41},{label:"Model-NO2 (GEOS)",layerId:Oe.constants.archive.layerId.NO2_GEOS,value:42}]},{label:"CO",value:5,children:[{label:"Satellite-CO (TROPOMI)",layerId:Oe.constants.archive.layerId.CO_TROPOMI,value:51},{label:"Model-CO (GEOS)",layerId:Oe.constants.archive.layerId.CO_GEOS,value:52}]}]},Forecast:{data:[{label:"PM",value:1,children:[{label:"Model-PM2.5 (GEOS)",layerId:Oe.constants.forecast.layerId.GEOS_PM2p5,value:13}]},{label:"O3",value:2,children:[{label:"Model-O3 (GEOS)",layerId:Oe.constants.forecast.layerId.O3_GEOS,value:22}]},{label:"SO2",value:3,children:[{label:"Model-SO2 (GEOS)",layerId:Oe.constants.forecast.layerId.SO2_GEOS,value:32}]},{label:"NO2",value:4,children:[{label:"Model-NO2 (GEOS)",layerId:Oe.constants.forecast.layerId.NO2_GEOS,value:42}]},{label:"CO",value:5,children:[{label:"Model-CO (GEOS)",layerId:Oe.constants.forecast.layerId.CO_GEOS,value:52}]}]}},Oe.formatDate=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),o=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[o,a,n].join("-")},Oe.makeRequest=function(e,t){return new Promise((function(a,n){var o=new XMLHttpRequest;o.open(e,t),o.onload=function(){this.status>=200&&this.status<300?a(o.response):n({status:this.status,statusText:o.statusText})},o.onerror=function(){n({status:this.status,statusText:o.statusText})},o.send()}))},Oe.getForecastWMSList=function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n,o,r,l,i,c,s,u,d,p,m,b,_,f,h,g,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Oe.makeRequest("GET",t);case 2:a=e.sent,n=new DOMParser,o=n.parseFromString(a,"text/xml"),r=[],l=Oe.formatDate(Oe.forecastDate).replace(/-/g,""),i=o.getElementsByTagName("catalogRef"),c=null,s=Object(se["a"])(i),e.prev=10,s.s();case 12:if((u=s.n()).done){e.next=19;break}if(d=u.value,l!=d.getAttribute("xlink:title")){e.next=17;break}return c=t.replace("catalog.xml",d.getAttribute("xlink:href")),e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](10),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:if(!c){e.next=36;break}return e.next=30,this.makeRequest("GET",c);case 30:p=e.sent,m=new DOMParser,b=m.parseFromString(p,"text/xml"),_=b.getElementsByTagName("dataset"),f=Object(se["a"])(_);try{for(f.s();!(h=f.n()).done;)g=h.value,y=g.getAttribute("name"),".nc"==y.slice(-3)&&r.push(c.replace("/catalog/","/wms/").replace("catalog.xml",y))}catch(O){f.e(O)}finally{f.f()}case 36:return e.abrupt("return",r.sort());case 37:case"end":return e.stop()}}),e,this,[[10,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),Oe.datetimePointChartObj=function(e,t,a,n,o,r,l,i){var c={chart:{marginLeft:65,backgroundColor:"transparent",plotBorderColor:"#afafaf",plotBorderWidth:1},title:{text:e,fontSize:"10px",useHTML:!0},subtitle:{text:t,fontSize:"8px"},series:[{name:n,data:a,lineWidth:0,marker:{enabled:!0,symbol:"diamond",radius:2}}],xAxis:{type:"datetime",title:{text:r,align:"high"},tickLength:0,lineColor:0,lineWidth:0},yAxis:{title:{text:'<span style="display:inline-block; -webkit-transform: rotate(270deg); -moz-transform: rotate(270deg); -ms-transform: rotate(270deg); -o-transform: rotate(270deg); filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);">'.concat(o,"</span>"),useHTML:!0,rotation:0,offset:0,x:-50},tickLength:0,lineColor:0,lineWidth:0,gridLineWidth:0},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{color:l}},lang:{noData:i+"data not available for this station."},exporting:{buttons:{contextButton:{menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","openInCloud"]}},allowHTML:!0}};return c},Oe.datetimeChartObj=function(e,t,a,n,o,r,l,i){var c={chart:{marginLeft:65,backgroundColor:"transparent",plotBorderColor:"#afafaf",plotBorderWidth:1},title:{text:e,fontSize:"10px",useHTML:!0},subtitle:{text:t,fontSize:"8px"},series:[{name:n,data:a}],xAxis:{type:"datetime",title:{text:r,align:"high"},tickLength:0,lineColor:0,lineWidth:0},lang:{noData:i+"data not available for this station."},yAxis:{title:{text:'<span style="display:inline-block; -webkit-transform: rotate(270deg); -moz-transform: rotate(270deg); -ms-transform: rotate(270deg); -o-transform: rotate(270deg); filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);">'.concat(o,"</span>"),useHTML:!0,rotation:0,offset:0,x:-50},tickLength:0,lineColor:0,lineWidth:0,gridLineWidth:0},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{color:l}},exporting:{buttons:{contextButton:{menuItems:["printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS","openInCloud"]}},allowHTML:!0}};return c},Oe.forceDownload=function(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){var e=window.URL||window.webkitURL,a=e.createObjectURL(this.response),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},a.send()};var Se=Oe,Ce=a("5502");ae()(ee.a),le()(ee.a),ce()(ee.a),oe()(ee.a);var we={name:"chartComponent",props:{IndexValue:{type:Number,required:!0}},data:function(){return{AirPollutionWatchApp:Se,visualizationIn:"chart",imageInfo:{url:"",downloadFileName:"",width:""}}},methods:Object(K["a"])(Object(K["a"])({},Object(Ce["b"])(["PostGetStationData","PostGet2DImage","TimeSeriesRasterQuery"])),{},{renderVisualization:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var a,n,o,r,l,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"Recent"==e.mapControlVariable.data_period?"Parameter"==e.mapControlVariable.select_by?(a=e.getCascaderInfoObject(e.mapControlVariable.parameter_by_pollutant_value[1]),a.stationData?e.ObservationDatavisualization(a,e.mapControlVariable["parameter_by_pollutant_value_stationData_val"+e.IndexValue]):console.log("")):(n=e.getCascaderInfoObject(e.mapControlVariable["location_by_pollutant_value"+e.IndexValue][1]),n.stationData&&e.ObservationDatavisualization(n,e.mapControlVariable["location_by_pollutant_value"+e.IndexValue][2])):"Archive"==e.mapControlVariable.data_period?"Parameter"==e.mapControlVariable.select_by?(o=e.getCascaderInfoObject(e.mapControlVariable.parameter_by_pollutant_value[1]),o.stationData?e.ObservationDatavisualization(o,e.mapControlVariable["parameter_by_pollutant_value_stationData_val"+e.IndexValue]):e.TimeSeriesPlot(o,e.mapControlVariable["parameter_by_location__"+e.IndexValue].wktValue,e.mapControlVariable["parameter_by_location__"+e.IndexValue].geometryType)):(r=e.getCascaderInfoObject(e.mapControlVariable["location_by_pollutant_value"+e.IndexValue][1]),r.stationData?e.ObservationDatavisualization(r,e.mapControlVariable["location_by_pollutant_value"+e.IndexValue][2]):e.mapControlVariable.location_by_wktValue?e.TimeSeriesPlot(r,e.mapControlVariable.location_by_wktValue,e.mapControlVariable.location_by_geometryType):e.$notify({title:"Warning",message:"Please select a location on map for time series visualization of "+r.label,type:"warning"})):"Parameter"==e.mapControlVariable.select_by?(l=e.getCascaderInfoObject(e.mapControlVariable.parameter_by_pollutant_value[1]),e.TimeSeriesPlot(l,e.mapControlVariable["parameter_by_location__"+e.IndexValue].wktValue,e.mapControlVariable["parameter_by_location__"+e.IndexValue].geometryType)):(i=e.getCascaderInfoObject(e.mapControlVariable["location_by_pollutant_value"+e.IndexValue][1]),e.TimeSeriesPlot(i,e.mapControlVariable.location_by_wktValue,e.mapControlVariable.location_by_geometryType));case 1:case"end":return t.stop()}}),t)})))()},getCascaderInfoObject:function(e){var t={};return this.AirPollutionWatchApp.cascaderObject[this.mapControlVariable.data_period].data.filter((function(a){return a.children.filter((function(a){return a.value==e&&(t=a),a.value==e})).length>0})),t},ObservationDatavisualization:function(e,t){var a=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){var o,r,l,i,c,s,u,d,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=a.getBindedLayer(e.layerId),o.setVisibleDivBind(!0),r={stId:t,ModelClass:e.ModelClass,ModelClassDataList:e.ModelClassDataList,typeName:e.typeName,StartDate:a.AirPollutionWatchApp.formatDate(Se.startDate),EndDate:a.AirPollutionWatchApp.formatDate(Se.endDate)},n.next=5,a.PostGetStationData(r);case 5:l=n.sent,a.visualizationIn="chart",i=e.childrenData.filter((function(e){return e.value==t}))[0],c=i.folder_name,s="Recent"==a.mapControlVariable.data_period?e.chart.title(c,a.AirPollutionWatchApp.formatDate(Se.startDate)):e.chart.title(c,a.AirPollutionWatchApp.formatDate(Se.startDate),a.AirPollutionWatchApp.formatDate(Se.endDate)),u=e.chart.XaxisLabel(),d=e.chart.plotType,p=null,p="point"===d?a.AirPollutionWatchApp.datetimePointChartObj(s,e.chart.subTitle,l.SeriesData,e.chart.SeriesName,e.chart.YaxisLabel,u,a.AirPollutionWatchApp.IndexColors[a.IndexValue-1],a.mapControlVariable.data_period+" "):a.AirPollutionWatchApp.datetimeChartObj(s,e.chart.subTitle,l.SeriesData,e.chart.SeriesName,e.chart.YaxisLabel,u,a.AirPollutionWatchApp.IndexColors[a.IndexValue-1],a.mapControlVariable.data_period+" "),ee.a.chart("chart"+a.IndexValue,p);case 15:case"end":return n.stop()}}),n)})))()},downloadImage:function(){this.AirPollutionWatchApp.forceDownload(this.imageInfo.url,this.imageInfo.downloadFileName)},TimeSeriesPlot:function(e,t,a){var n=this;return Object(O["a"])(regeneratorRuntime.mark((function o(){var r,l,i,c,s,u,d,p,m,b,_,f;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=n.getBindedLayer(e.layerId),l=r.getLayer(),i=null,c=null,s=null,l.getProperties().ThreddsDataServerVersion?(s=l.getProperties(),i=l.getCurrentLayer().getProperties().source.getParams(),c=[],s.source.url.forEach((function(e){c.push(e.split("/wms/")[1])}))):(s=l.getProperties(),i=l.source.getParams(),c=l.source.getUrls()[0].split("wms")[1]),u={DATADIR:c,LAYER:i.LAYERS,wkt:t,type:a},o.next=9,n.TimeSeriesRasterQuery(u);case 9:d=o.sent,200===d.status&&(p=s.chartDetail.title+" values",m=d.geom,b=s.chartDetail.unit,_=s.chartDetail.SeriesName,f=n.AirPollutionWatchApp.datetimeChartObj(p,m,d.SeriesData,_,b,d.XaxisLabel,n.AirPollutionWatchApp.IndexColors[n.IndexValue-1]),ee.a.chart("chart"+n.IndexValue,f));case 11:case"end":return o.stop()}}),o)})))()}}),computed:Object(K["a"])(Object(K["a"])({},Object(Ce["e"])(["mapControlVariable","TimeSeriesLayerCollection"])),Object(Ce["c"])(["getBindedLayer","getLayer"])),created:function(){var e=this;Z.$on("getVisualization",(function(){e.renderVisualization()}))},mounted:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Z.$on("UpdateChart",(function(t){e.updateChart(t)}));case 1:case"end":return t.stop()}}),t)})))()}};a("0484");const Ve=f()(we,[["render",q],["__scopeId","data-v-2858a76c"]]);var De=Ve,je=function(e){return Object(n["pushScopeId"])("data-v-9810e6ce"),e=e(),Object(n["popScopeId"])(),e},Ie={class:"card-box full-height full-width about-div"},xe=je((function(){return Object(n["createElementVNode"])("div",{class:"pannel-title"},[Object(n["createElementVNode"])("h6",{class:"title-heading"},"Map Controls ")],-1)})),Pe={class:"body-container"},Ae=je((function(){return Object(n["createElementVNode"])("div",{class:"",style:{width:"100%","text-align":"center"}}," - ",-1)})),Te={class:""},Le={class:"feature-selected"},Ee={class:"no-feature-selected"},ke={class:"pollutant-cascader"},Ne={class:"pollutant-cascader"},Me={class:"pollutant-cascader"},Re={class:"pollutant-cascader"},Ge={class:"pollutant-cascader"},Be={class:"pollutant-cascader"},Fe={class:"pollutant-cascader"},We={class:"pollutant-cascader"},Ue={class:"pollutant-cascader"},ze=Object(n["createTextVNode"])("compute");function $e(e,t,a,o,r,l){var i=Object(n["resolveComponent"])("el-option"),c=Object(n["resolveComponent"])("el-select"),s=Object(n["resolveComponent"])("el-form-item"),u=Object(n["resolveComponent"])("el-form"),d=Object(n["resolveComponent"])("el-col"),p=Object(n["resolveComponent"])("el-cascader"),m=Object(n["resolveComponent"])("selectLocation"),b=Object(n["resolveComponent"])("el-radio"),_=Object(n["resolveComponent"])("el-radio-group"),f=Object(n["resolveComponent"])("el-button"),h=Object(n["resolveComponent"])("el-scrollbar");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ie,[xe,Object(n["createElementVNode"])("div",Pe,[Object(n["createVNode"])(h,{height:"100%"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{"label-position":"left","label-width":"120px",class:"demo-ruleForm",size:"mini"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{label:"Data Period",prop:"data_period"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{modelValue:e.mapControlVariable.data_period,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.mapControlVariable.data_period=t}),placeholder:"Data Period",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.data_period,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(s,{label:"Select By",prop:"select_by"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{modelValue:e.mapControlVariable.select_by,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.mapControlVariable.select_by=t}),placeholder:"Select By",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.select_by,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),"Location"===e.mapControlVariable.select_by?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0,"label-position":"top","label-width":"120px",class:"demo-ruleForm",size:"mini"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])(s,{label:"Select Location",prop:"Select Location"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{span:11,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{modelValue:e.mapControlVariable.location_by,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.mapControlVariable.location_by=t}),placeholder:"Select Location",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.location_by,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(d,{span:2,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Ae]})),_:1}),Object(n["createVNode"])(d,{span:11,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])(c,{modelValue:e.mapControlVariable.default_location,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.mapControlVariable.default_location=t}),placeholder:"Select Location",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.default_location,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"]),[[n["vShow"],"default_locations"===e.mapControlVariable.location_by]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Te,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Le,"Feature selected ",512),[[n["vShow"],!0===e.mapControlVariable.is_AOI_Feature_selected]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Ee,"No Feature selected ",512),[[n["vShow"],!1===e.mapControlVariable.is_AOI_Feature_selected]])],512),[[n["vShow"],"AOI"===e.mapControlVariable.location_by]])]})),_:1})]})),_:1},512),[[n["vShow"],"Recent"!==e.mapControlVariable.data_period]]),Object(n["createVNode"])(s,{label:"Pollutants",prop:"Pollutants"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",ke,[Object(n["createVNode"])(p,{modelValue:e.mapControlVariable.location_by_pollutant_value1,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.mapControlVariable.location_by_pollutant_value1=t}),options:l.cascaderData,style:{width:"100%"}},null,8,["modelValue","options"])]),Object(n["createElementVNode"])("div",Ne,[Object(n["createVNode"])(p,{modelValue:e.mapControlVariable.location_by_pollutant_value2,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.mapControlVariable.location_by_pollutant_value2=t}),options:l.cascaderData,style:{width:"100%"}},null,8,["modelValue","options"])]),Object(n["createElementVNode"])("div",Me,[Object(n["createVNode"])(p,{modelValue:e.mapControlVariable.location_by_pollutant_value3,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.mapControlVariable.location_by_pollutant_value3=t}),options:l.cascaderData,style:{width:"100%"}},null,8,["modelValue","options"])]),Object(n["createElementVNode"])("div",Re,[Object(n["createVNode"])(p,{modelValue:e.mapControlVariable.location_by_pollutant_value4,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.mapControlVariable.location_by_pollutant_value4=t}),options:l.cascaderData,style:{width:"100%"}},null,8,["modelValue","options"])])]})),_:1})]})),_:1})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(u,{"label-position":"top","label-width":"120px",class:"demo-ruleForm",size:"mini"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])(s,{label:"Pollutants",prop:"Pollutants"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",Ge,[Object(n["createVNode"])(p,{modelValue:e.mapControlVariable.parameter_by_pollutant_value,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.mapControlVariable.parameter_by_pollutant_value=t}),options:l.cascaderData,style:{width:"100%"}},null,8,["modelValue","options"])])]})),_:1},512),[[n["vShow"],"Parameter"===e.mapControlVariable.select_by]]),Object(n["withDirectives"])(Object(n["createVNode"])(s,{label:"Select Locations",prop:"Locations"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(_,{modelValue:e.mapControlVariable.radioValue,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.mapControlVariable.radioValue=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{label:1,name:"radio1",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{isDisable:"1"!=e.mapControlVariable.radioValue,IndexValue:1,Select_Option_Default_Location:r.options.default_location},null,8,["isDisable","Select_Option_Default_Location"])]})),_:1}),Object(n["createVNode"])(b,{label:2,name:"radio1",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{isDisable:"2"!=e.mapControlVariable.radioValue,IndexValue:2,Select_Option_Default_Location:r.options.default_location},null,8,["isDisable","Select_Option_Default_Location"])]})),_:1}),Object(n["createVNode"])(b,{label:3,name:"radio1",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{isDisable:"3"!=e.mapControlVariable.radioValue,IndexValue:3,Select_Option_Default_Location:r.options.default_location},null,8,["isDisable","Select_Option_Default_Location"])]})),_:1}),Object(n["createVNode"])(b,{label:4,name:"radio1",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{isDisable:"4"!=e.mapControlVariable.radioValue,IndexValue:4,Select_Option_Default_Location:r.options.default_location},null,8,["isDisable","Select_Option_Default_Location"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},512),[[n["vShow"],"Parameter"===e.mapControlVariable.select_by&&!1===e.mapControlVariable.is_parameter_by_pollutant_value_stationData]]),Object(n["withDirectives"])(Object(n["createVNode"])(s,{label:"Select Stations",prop:"station"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",Be,[Object(n["createVNode"])(c,{modelValue:e.mapControlVariable.parameter_by_pollutant_value_stationData_val1,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.mapControlVariable.parameter_by_pollutant_value_stationData_val1=t}),placeholder:"Select station",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.ObservationStationOptions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]),Object(n["createElementVNode"])("div",Fe,[Object(n["createVNode"])(c,{modelValue:e.mapControlVariable.parameter_by_pollutant_value_stationData_val2,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.mapControlVariable.parameter_by_pollutant_value_stationData_val2=t}),placeholder:"Select station",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.ObservationStationOptions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]),Object(n["createElementVNode"])("div",We,[Object(n["createVNode"])(c,{modelValue:e.mapControlVariable.parameter_by_pollutant_value_stationData_val3,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.mapControlVariable.parameter_by_pollutant_value_stationData_val3=t}),placeholder:"Select station",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.ObservationStationOptions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])]),Object(n["createElementVNode"])("div",Ue,[Object(n["createVNode"])(c,{modelValue:e.mapControlVariable.parameter_by_pollutant_value_stationData_val4,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.mapControlVariable.parameter_by_pollutant_value_stationData_val4=t}),placeholder:"Select station",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.ObservationStationOptions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["modelValue"])])]})),_:1},512),[[n["vShow"],"Parameter"===e.mapControlVariable.select_by&&!0===e.mapControlVariable.is_parameter_by_pollutant_value_stationData]])]})),_:1}),Object(n["createVNode"])(f,{type:"primary",size:"mini",style:{width:"100%"},onClick:l.computeData},{default:Object(n["withCtx"])((function(){return[ze]})),_:1},8,["onClick"])]})),_:1})])])}a("b64b"),a("25f0"),a("b0c0"),a("a434");var He=a("64d9"),Ye=Object(n["createElementVNode"])("div",{class:"",style:{width:"100%","text-align":"center"}}," - ",-1),qe={class:""},Ke={class:"feature-selected"},Xe={class:"no-feature-selected"};function Qe(e,t,a,o,r,l){var i=Object(n["resolveComponent"])("el-option"),c=Object(n["resolveComponent"])("el-select"),s=Object(n["resolveComponent"])("el-col"),u=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createBlock"])(u,{style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{span:11,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{disabled:a.isDisable,modelValue:l.parameter_by_location.location_by,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.parameter_by_location.location_by=e}),placeholder:"Select Location",style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.options.location_by,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])})),128))]})),_:1},8,["disabled","modelValue"])]})),_:1}),Object(n["createVNode"])(s,{span:2,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Ye]})),_:1}),Object(n["createVNode"])(s,{span:11,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])(c,{disabled:a.isDisable,modelValue:l.parameter_by_location.default_location,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.parameter_by_location.default_location=e}),placeholder:"Select Location",style:{width:"100%"},ref:"defaultLocation"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.Select_Option_Default_Location,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["disabled","modelValue"]),[[n["vShow"],"default_locations"===l.parameter_by_location.location_by]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",qe,[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Ke,"Feature selected ",512),[[n["vShow"],!0===l.parameter_by_location.is_AOI_Feature_selected]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",Xe,"No Feature selected ",512),[[n["vShow"],!1===l.parameter_by_location.is_AOI_Feature_selected]])],512),[[n["vShow"],"AOI"===l.parameter_by_location.location_by]])]})),_:1})]})),_:1})}var Ze=a("a2e1"),Je={name:"selectLocation",props:{isDisable:{type:Boolean,required:!0},IndexValue:{type:Number,required:!0},Select_Option_Default_Location:{type:Array,required:!0}},data:function(){return{options:{location_by:[{value:"default_locations",label:"Major Cities"},{value:"AOI",label:"Select on map"}]}}},mounted:function(){},methods:Object(K["a"])(Object(K["a"])({},Object(Ce["b"])(["getCityData"])),{},{featureSelectorDeleteUpdate:function(){var e,t,a,n=this;if(this.selectInteraction)if("AOI"==this.parameter_by_location.location_by){if(this.selectInteraction.getFeatures().getLength()){var o=this.selectInteraction.getFeatures();o.forEach((function(o){var r=new He["a"];e=r.writeGeometry(o.getGeometry(),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),t=o.getGeometry().getType(),a=(new He["a"]).readFeature(e),a=a.getGeometry().getExtent(),o.set("SelectBy","Parameter"),o.set("LocationBy","AOI"),o.set("IndexValue",n.radioValue)}))}var r=0;this.WorkingVectorLayer.getSource().getFeatures().forEach((function(e){"Parameter"==e.get("SelectBy")&&"AOI"==e.get("LocationBy")&&e.get("IndexValue")==n.IndexValue&&(r+=1)})),console.log(r+" | "+this.radioValue+" | "+this.IndexValue),this.IndexValue==this.radioValue&&(r?(this.parameter_by_location.is_AOI_Feature_selected=!0,this.parameter_by_location.wktValue=e,this.parameter_by_location.geometryType=t,this.parameter_by_location.featureExtent=a):(this.parameter_by_location.is_AOI_Feature_selected=!1,this.parameter_by_location.wktValue="",this.parameter_by_location.geometryType="",this.parameter_by_location.featureExtent=""))}else this.radioValue==this.IndexValue&&this.selectInteraction.getFeatures().clear()}}),watch:{SelectDefaultLocation:function(e,t){var a=this;if(e){var n=this.Select_Option_Default_Location.filter((function(t){return e==t.value}))[0],o=(new Ze["a"]).readFeature(n.geoJSON.features[0]);o.set("SelectBy","Parameter"),o.set("LocationBy","default_location"),o.set("IndexValue",this.IndexValue),this.WorkingVectorLayer.getSource().addFeature(o);var r=new He["a"],l=r.writeGeometry(o.getGeometry(),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),i=o.getGeometry().getType(),c=(new He["a"]).readFeature(l);c=c.getGeometry().getExtent(),this.parameter_by_location.wktValue=l,this.parameter_by_location.geometryType=i,this.parameter_by_location.featureExtent=[c[0]-5,c[1]-3,c[2]+5,c[3]+3]}else this.parameter_by_location.wktValue="",this.parameter_by_location.geometryType="",this.parameter_by_location.featureExtent="";t&&this.WorkingVectorLayer.getSource().getFeatures().forEach((function(e){"Parameter"==e.get("SelectBy")&&"default_location"==e.get("LocationBy")&&e.get("id")==t&&e.get("IndexValue")==a.IndexValue&&a.WorkingVectorLayer.getSource().removeFeature(e)}))},SelectLocationBy:function(){this.parameter_by_location.default_location=""}},computed:Object(K["a"])(Object(K["a"])({},Object(Ce["e"])(["selectInteraction","mapObject","WorkingVectorLayer","mapControlVariable"])),{},{SelectDefaultLocation:function(){return this.parameter_by_location.default_location},SelectLocationBy:function(){return this.parameter_by_location.location_by},parameter_by_location:function(){return this.mapControlVariable["parameter_by_location__"+this.IndexValue.toString()]},radioValue:function(){return this.mapControlVariable.radioValue}}),beforeCreate:function(){var e=this;Z.$once("runFeatureInteractionCode",(function(){e.selectInteraction.on("select",(function(){e.featureSelectorDeleteUpdate()}))})),Z.$on("SelectByParameterDefaultLocation",(function(){console.log("okok");var t=e.$refs.defaultLocation.$el;t.dispatchEvent(new Event("change"))}))}};a("36ea");const et=f()(Je,[["render",Qe]]);var tt=et,at=a("b16e"),nt=a("2f63"),ot=a("3e6b"),rt=a("5831"),lt=a("0af5"),it={Recent:{select_by:"Parameter",location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,location_by_wktValue:"",location_by_geometryType:"",location_by_pollutant_value1:[],location_by_pollutant_value2:[],location_by_pollutant_value3:[],location_by_pollutant_value4:[],radioValue:1,parameter_by_pollutant_value:[1,12],is_parameter_by_pollutant_value_stationData:!0,parameter_by_pollutant_value_stationData_val1:6,parameter_by_pollutant_value_stationData_val2:4,parameter_by_pollutant_value_stationData_val3:2,parameter_by_pollutant_value_stationData_val4:8,parameter_by_location__1:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__2:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__3:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__4:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""}},Archive:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,location_by_wktValue:"",location_by_geometryType:"",location_by_pollutant_value1:[],location_by_pollutant_value2:[],location_by_pollutant_value3:[],location_by_pollutant_value4:[],radioValue:1,parameter_by_pollutant_value:[],is_parameter_by_pollutant_value_stationData:!0,parameter_by_pollutant_value_stationData_val1:"",parameter_by_pollutant_value_stationData_val2:"",parameter_by_pollutant_value_stationData_val3:"",parameter_by_pollutant_value_stationData_val4:"",parameter_by_location__1:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__2:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__3:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__4:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""}},Forecast:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,location_by_wktValue:"",location_by_geometryType:"",location_by_pollutant_value1:[],location_by_pollutant_value2:[],location_by_pollutant_value3:[],location_by_pollutant_value4:[],radioValue:1,parameter_by_pollutant_value:[],is_parameter_by_pollutant_value_stationData:!0,parameter_by_pollutant_value_stationData_val1:"",parameter_by_pollutant_value_stationData_val2:"",parameter_by_pollutant_value_stationData_val3:"",parameter_by_pollutant_value_stationData_val4:"",parameter_by_location__1:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__2:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__3:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__4:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""}}},ct=a("90b1"),st=a("e613"),ut=a.n(st),dt=a("d855"),pt=a.n(dt),mt=a("a97a"),bt=a.n(mt),_t={name:"mapControlsEmission",data:function(){return{maskCoordinate:null,data__layer__initilize__Recent:!1,data__layer__initilize__Archive:!1,data__layer__initilize__Forecast:!1,AirPollutionWatchApp:Se,options:{data_period:[{value:"Recent",label:"Recent"},{value:"Archive",label:"Archive"},{value:"Forecast",label:"Forecast"}],select_by:[{value:"Location",label:"Location"},{value:"Parameter",label:"Parameter"}],location_by:[{value:"default_locations",label:"Major Cities"},{value:"AOI",label:"Select on map"}],default_location:[],ObservationStationOptions:[]}}},watch:{SelectDataPeriod:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var a,n,o,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"Recent"==e.mapControlVariable.data_period?(e.AirPollutionWatchApp.startDate=new Date,e.AirPollutionWatchApp.startDate.setDate(e.AirPollutionWatchApp.startDate.getDate()-1),e.AirPollutionWatchApp.endDate=new Date):"Archive"==e.mapControlVariable.data_period?(e.AirPollutionWatchApp.startDate=new Date,e.AirPollutionWatchApp.startDate.setDate(e.AirPollutionWatchApp.startDate.getDate()-8),e.AirPollutionWatchApp.endDate=new Date,e.AirPollutionWatchApp.endDate.setDate(e.AirPollutionWatchApp.endDate.getDate()-1)):(e.AirPollutionWatchApp.forecastDate=new Date,e.AirPollutionWatchApp.forecastDate.setDate(e.AirPollutionWatchApp.forecastDate.getDate()-1)),t.next=3,e.addLayersToMap();case 3:console.log("-----------------kkkk-------------------------"),"Recent"==e.mapControlVariable.data_period?(e.mapControlVariable.select_by="Parameter",a=[1,12],e.mapControlVariable.parameter_by_pollutant_value=a,n=e.getStationInfoObject(a[1]),e.mapControlVariable.parameter_by_pollutant_value_stationData_val1=n.defaultStation[0],e.mapControlVariable.parameter_by_pollutant_value_stationData_val2=n.defaultStation[1],e.mapControlVariable.parameter_by_pollutant_value_stationData_val3=n.defaultStation[2],e.mapControlVariable.parameter_by_pollutant_value_stationData_val4=n.defaultStation[3]):"Archive"==e.mapControlVariable.data_period?(e.mapControlVariable.select_by="Parameter",o=[1,12],e.mapControlVariable.parameter_by_pollutant_value=o,r=e.getStationInfoObject(o[1]),e.mapControlVariable.parameter_by_pollutant_value_stationData_val1=r.defaultStation[0],e.mapControlVariable.parameter_by_pollutant_value_stationData_val2=r.defaultStation[1],e.mapControlVariable.parameter_by_pollutant_value_stationData_val3=r.defaultStation[2],e.mapControlVariable.parameter_by_pollutant_value_stationData_val4=r.defaultStation[3]):(e.mapControlVariable.select_by="Parameter",l=[1,13],e.mapControlVariable.parameter_by_pollutant_value=l);case 5:case"end":return t.stop()}}),t)})))()},SelectDefaultLocation:function(e,t){var a=this;if(e){var n=this.options.default_location.filter((function(t){return e==t.value}))[0],o=(new Ze["a"]).readFeature(n.geoJSON.features[0]);o.set("SelectBy","Location"),o.set("LocationBy","default_location"),this.WorkingVectorLayer.getSource().addFeature(o);var r=this.mapObject.getView(),l=r.getResolutionForExtent(o.getGeometry().getExtent(),this.mapObject.getSize()),i=r.getZoomForResolution(l),c=Object(lt["w"])(o.getGeometry().getExtent());setTimeout((function(){r.animate({center:c,zoom:Math.min(i,11)})}),100);var s=new He["a"],u=s.writeGeometry(o.getGeometry(),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),d=o.getGeometry().getType();this.mapControlVariable.location_by_wktValue=u,this.mapControlVariable.location_by_geometryType=d}else this.mapControlVariable.location_by_wktValue="",this.mapControlVariable.location_by_geometryType="";t&&this.WorkingVectorLayer.getSource().getFeatures().forEach((function(e){"Location"==e.get("SelectBy")&&"default_location"==e.get("LocationBy")&&e.get("id")==t&&a.WorkingVectorLayer.getSource().removeFeature(e)}))},SelectLocationBy:function(){this.mapControlVariable.default_location=""},SelectByOption:function(){var e=this;"Location"==this.mapControlVariable.select_by?(this.WorkingVectorLayer.getSource().getFeatures().forEach((function(t){"Parameter"==t.get("SelectBy")&&"default_location"==t.get("LocationBy")&&e.WorkingVectorLayer.getSource().removeFeature(t)})),this.SetLayerOfSelectByParameterLayer(!1),"Recent"==this.mapControlVariable.data_period?(this.mapControlVariable.location_by_pollutant_value1=[1,12,6],this.mapControlVariable.location_by_pollutant_value2=[1,12,4],this.mapControlVariable.location_by_pollutant_value3=[1,12,2],this.mapControlVariable.location_by_pollutant_value4=[1,12,8]):"Archive"==this.mapControlVariable.data_period?(this.mapControlVariable.location_by="default_locations",this.mapControlVariable.default_location=1,this.mapControlVariable.location_by_pollutant_value1=[1,12,6],this.mapControlVariable.location_by_pollutant_value2=[1,12,4],this.mapControlVariable.location_by_pollutant_value3=[1,12,2],this.mapControlVariable.location_by_pollutant_value4=[1,12,8]):(this.mapControlVariable.location_by="default_locations",this.mapControlVariable.default_location=1,this.mapControlVariable.location_by_pollutant_value1=[1,13],this.mapControlVariable.location_by_pollutant_value2=[2,22],this.mapControlVariable.location_by_pollutant_value3=[3,32],this.mapControlVariable.location_by_pollutant_value4=[4,42])):("Recent"==this.mapControlVariable.data_period||"Archive"==this.mapControlVariable.data_period?this.mapControlVariable.parameter_by_pollutant_value=[1,12]:this.mapControlVariable.parameter_by_pollutant_value=[1,13],this.mapControlVariable.default_location="",this.SetLayerOfSelectByParameterLayer(!0)),this.ObservationStationOption()},SelectByParameterPollutant:function(e,t){var a=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){var o,r,l,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t&&t.length&&(o=a.getStationInfoObject(t[1]),0!=Object.keys(o).length&&(r=a.getBindedLayer(o.layerId),r.setVisibleDivBind(!1))),l=a.getStationInfoObject(e[1]),a.mapControlVariable.parameter_by_pollutant_value.length&&(i=a.getBindedLayer(l.layerId),console.log("newPollutant"),console.log(e),i.setVisibleDivBind(!0),l.stationData?(a.mapControlVariable.is_parameter_by_pollutant_value_stationData=!0,a.options.ObservationStationOptions=l.childrenData):(a.mapControlVariable.is_parameter_by_pollutant_value_stationData=!1,a.options.ObservationStationOptions=[])),l.stationData?(a.mapControlVariable.parameter_by_pollutant_value_stationData_val1=l.defaultStation[0],a.mapControlVariable.parameter_by_pollutant_value_stationData_val2=l.defaultStation[1],a.mapControlVariable.parameter_by_pollutant_value_stationData_val3=l.defaultStation[2],a.mapControlVariable.parameter_by_pollutant_value_stationData_val4=l.defaultStation[3]):(a.mapControlVariable.is_parameter_by_pollutant_value_stationData=!1,a.mapControlVariable.parameter_by_location__1.location_by="default_locations",a.mapControlVariable.parameter_by_location__2.location_by="default_locations",a.mapControlVariable.parameter_by_location__3.location_by="default_locations",a.mapControlVariable.parameter_by_location__4.location_by="default_locations",a.mapControlVariable.parameter_by_location__1.default_location=1,a.mapControlVariable.parameter_by_location__2.default_location=2,a.mapControlVariable.parameter_by_location__3.default_location=3,a.mapControlVariable.parameter_by_location__4.default_location=4,Z.$emit("SelectByParameterDefaultLocation"));case 4:case"end":return n.stop()}}),n)})))()},location_by_pollutant_value1:function(e,t){this.onChangePollutantsOnSelectByLocation(e,t)},location_by_pollutant_value2:function(e,t){this.onChangePollutantsOnSelectByLocation(e,t)},location_by_pollutant_value3:function(e,t){this.onChangePollutantsOnSelectByLocation(e,t)},location_by_pollutant_value4:function(e,t){this.onChangePollutantsOnSelectByLocation(e,t)}},components:{selectLocation:tt},methods:Object(K["a"])(Object(K["a"])(Object(K["a"])({},Object(Ce["b"])(["getCityData","PostSlicedFromCatalog","getGeoJsonForOneSatation"])),Object(Ce["d"])(["appendTimeSeriesLayerCollection"])),{},{changeDataPeriod:function(){},featureSelectorDeleteUpdate:function(){var e,t;if(this.selectInteraction)if(this.selectInteraction.getFeatures().getLength()){var a=this.selectInteraction.getFeatures();a.forEach((function(a){var n=new He["a"];e=n.writeGeometry(a.getGeometry(),{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),t=a.getGeometry().getType()}));var n={geometryType:t,wkt:e};console.log(n),"AOI"==this.mapControlVariable.location_by&&(this.mapControlVariable.is_AOI_Feature_selected=!0,this.parameter_by_location.wktValue=e,this.parameter_by_location.geometryType=t)}else"AOI"==this.mapControlVariable.location_by&&(this.mapControlVariable.is_AOI_Feature_selected=!1,this.parameter_by_location.wktValue="",this.parameter_by_location.geometryType="")},CatalogSlicingParam:function(e,t,a){var n={url:e,data_ext:".nc",startDate:t,endDate:a};return n},addRasterLayerToMap:function(e,t){var a=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){var o,r,l,i,c,s,u,d,p,m,b,_,f,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=[],s=he+e.catalog,"Forecast"==a.mapControlVariable.data_period){n.next=12;break}return o=a.CatalogSlicingParam(s,e.getStartDate(),e.getEndDate()),n.next=6,a.PostSlicedFromCatalog(o);case 6:r=n.sent,l=r,c=l.data.length,c&&l.data.forEach((function(e){var t=s.replace("/catalog/","/wms/").replace("catalog.xml",e);i.push(t)})),n.next=17;break;case 12:return n.next=14,a.AirPollutionWatchApp.getForecastWMSList(s);case 14:i=n.sent,c=i.length,console.log(c);case 17:if(!c){n.next=50;break}if(!e.isTimeDimensionLayer){n.next=47;break}if(!e.useSLD){n.next=36;break}return d=e.SLD.replace(/(\r\n|\n|\r)/gm,""),p="?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetLegendGraphic&WIDTH=10&HEIGHT=230&SLD_BODY=",m="",m=e.legendPath?e.legendPath:Array.isArray(i)?i[0]+p+encodeURIComponent(d).toString():i+p+encodeURIComponent(d).toString(),console.log(m),b=e.threddLayerProp,b.source.params.SLD_BODY=d,b.source.url=i,b.legendPath=ut.a,b.wmsList=i,b.changeWMSProxy=!0,u=new at["a"](b),n.next=34,u.init().then((function(n){a.mapObject.addThreddsLayer(n);var o=new nt["a"](".layerCollection",u,!0,"withOpacityChange");o.setVisibleDivBind(e.VisibleDivBind);var r=u.getProperties();r.mask&&(console.log(r),"crop"==r.CropOrMask?u.setCrop(a.maskCoordinate):u.setMask(a.maskCoordinate)),a.appendTimeSeriesLayerCollection(o),t()}));case 34:n.next=47;break;case 36:return _=e.threddLayerProp,f="?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetLegendGraphic&WIDTH=10&HEIGHT=230&LAYERS="+_.source.params.LAYERS+"&COLORSCALERANGE="+_.source.params.COLORSCALERANGE+"&STYLES="+_.source.params.STYLES,h="",h=e.legendPath?e.legendPath:Array.isArray(i)?i[0]+f:i+f,_.source.url=i,_.legendPath=h,_.wmsList=i,_.changeWMSProxy=!0,u=new at["a"](_),n.next=47,u.init().then((function(n){a.mapObject.addThreddsLayer(n);var o=new nt["a"](".layerCollection",u,!0);o.setVisibleDivBind(e.VisibleDivBind);var r=u.getProperties();r.mask&&("crop"==r.CropOrMask?u.setCrop(a.maskCoordinate):u.setMask(a.maskCoordinate)),a.appendTimeSeriesLayerCollection(o),t()}));case 47:e.isDataThere=!0,n.next=51;break;case 50:e.isDataThere=!1;case 51:case"end":return n.stop()}}),n)})))()},addVectorLayerToMap:function(e,t,a){var n=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var o,r,l,i,c,s,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=n.AirPollutionWatchApp.formatDate(n.AirPollutionWatchApp.startDate),r=n.AirPollutionWatchApp.formatDate(n.AirPollutionWatchApp.endDate),l=0,i="?ModelClass="+t.ModelClass+"&ModelClassDataList="+t.ModelClassDataList+"&typeName="+t.typeName+"&StartDate="+o+"&EndDate="+r+"&rid="+l,e.next=6,n.getGeoJsonForOneSatation(i);case 6:c=e.sent,s=c,t.childrenData=[],s.features.forEach((function(e){var a={label:e.properties.name,value:e.properties.id,folder_name:e.properties.folder_name};t.childrenData.push(a)})),s.features.length?(t.isDatathere=!0,u=11==t.value?bt.a:pt.a,d=new ot["a"]({id:t.layerId,title:t.label,visible:!1,legendPath:u,selId:[],source:new rt["a"]({features:(new Ze["a"]).readFeatures(s)}),style:t.styleFunction,zIndex:22}),n.mapObject.addLayer(d),p=new nt["a"](".layerCollection",d,!1),p.setVisibleDivBind(!1),n.appendTimeSeriesLayerCollection(p)):t.isDatathere=!1,a();case 12:case"end":return e.stop()}}),e)})))()},ClearWMSWithNoDataAndVectorDatawithNodata:function(){var e=this;this.AirPollutionWatchApp.LayerCollectionObjet[this.mapControlVariable.data_period].data.forEach((function(t){var a=t.threddLayerProp.id,n=t.isDataThere;e.AirPollutionWatchApp.cascaderObject[e.mapControlVariable.data_period].data.reduce((function(e,t){var o=t.children.filter((function(e){return e.layerId!==a||!1!==n}));t.children=o}),0),e.AirPollutionWatchApp.cascaderObject[e.mapControlVariable.data_period].data.reduce((function(e,t,a,n){t.children.length||n.splice(a,1)}),0)})),this.AirPollutionWatchApp.cascaderObject[this.mapControlVariable.data_period].data.reduce((function(e,t,a,n){var o=t.children.filter((function(e){return!0!==e.stationData||!1!==e.isDatathere}));t.children=o,t.children.length||n.splice(a,1)}),0)},enableTrueColorMap:function(){var e=this;this.TimeSeriesLayerCollection.forEach((function(t){var a=t.getProperties().id;a.split("__")[0].toUpperCase()==e.mapControlVariable.data_period.toUpperCase()&&a==e.mapControlVariable.data_period+"__TerraModisTrueColor"?t.setVisibleDivBind(!0):t.setVisibleDivBind(!1)}))},addLayersToMap:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var a,n,o,r,l,i,c,s,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,n="data__layer__initilize__"+a.mapControlVariable.data_period,0!=a[n]){t.next=14;break}o=ct["a"].service({lock:!0,text:"Loading "+a.mapControlVariable.data_period+" data.....",background:"rgba(0, 0, 0, 0.7)"}),r=[],l=Object(se["a"])(e.AirPollutionWatchApp.LayerCollectionObjet[e.mapControlVariable.data_period].data);try{for(c=function(){var t=i.value,a=new Promise((function(a){setTimeout(e.addRasterLayerToMap,1,t,a)}));r.push(a)},l.s();!(i=l.n()).done;)c()}catch(p){l.e(p)}finally{l.f()}s=Object(se["a"])(e.AirPollutionWatchApp.cascaderObject[e.mapControlVariable.data_period].data);try{for(d=function(){var t,a=u.value,n=Object(se["a"])(a.children);try{var o=function(){var n=t.value;if(1==n.stationData){var o=new Promise((function(t){setTimeout(e.addVectorLayerToMap,1,a,n,t)}));r.push(o)}};for(n.s();!(t=n.n()).done;)o()}catch(p){n.e(p)}finally{n.f()}},s.s();!(u=s.n()).done;)d()}catch(p){s.e(p)}finally{s.f()}return console.log("------------------Before promise-----------------"),t.next=12,Promise.all(r).then((function(){e.enableTrueColorMap(),e.ClearWMSWithNoDataAndVectorDatawithNodata(),a[n]=!0,e.ObservationStationOption(),console.log("------------------Inside promise-----------------"),o.close()}));case 12:t.next=15;break;case 14:e.enableTrueColorMap();case 15:case"end":return t.stop()}}),t)})))()},computeData:function(){if("Recent"===this.mapControlVariable.data_period)if("Parameter"==this.mapControlVariable.select_by)if(this.mapControlVariable.parameter_by_pollutant_value.length){var e=this.getStationInfoObject(this.mapControlVariable.parameter_by_pollutant_value[1]);e.stationData?this.mapControlVariable.parameter_by_pollutant_value_stationData_val1&&this.mapControlVariable.parameter_by_pollutant_value_stationData_val2&&this.mapControlVariable.parameter_by_pollutant_value_stationData_val3&&this.mapControlVariable.parameter_by_pollutant_value_stationData_val4?Z.$emit("getVisualization"):this.$notify({title:"Warning",message:"Please select station on all dropdown menu.",type:"warning"}):this.mapControlVariable.parameter_by_location__1.wktValue&&this.mapControlVariable.parameter_by_location__2.wktValue&&this.mapControlVariable.parameter_by_location__3.wktValue&&this.mapControlVariable.parameter_by_location__4.wktValue?Z.$emit("getVisualization"):this.$notify({title:"Warning",message:"Please select locations on all dropdown menu.",type:"warning"})}else this.$notify({title:"Warning",message:"Please Select a pollutant",type:"warning"});else this.location_by_pollutant_value1.length>0&&this.location_by_pollutant_value2.length>0&&this.location_by_pollutant_value3.length>0&&this.location_by_pollutant_value4.length>0?Z.$emit("getVisualization"):this.$notify({title:"Warning",message:"Please select pollutants on all dropdown menu.",type:"warning"});else if("Archive"===this.mapControlVariable.data_period)if("Parameter"==this.mapControlVariable.select_by)if(this.mapControlVariable.parameter_by_pollutant_value.length){var t=this.getStationInfoObject(this.mapControlVariable.parameter_by_pollutant_value[1]);t.stationData?this.mapControlVariable.parameter_by_pollutant_value_stationData_val1&&this.mapControlVariable.parameter_by_pollutant_value_stationData_val2&&this.mapControlVariable.parameter_by_pollutant_value_stationData_val3&&this.mapControlVariable.parameter_by_pollutant_value_stationData_val4?Z.$emit("getVisualization"):this.$notify({title:"Warning",message:"Please select station on all dropdown menu.",type:"warning"}):this.mapControlVariable.parameter_by_location__1.wktValue&&this.mapControlVariable.parameter_by_location__2.wktValue&&this.mapControlVariable.parameter_by_location__3.wktValue&&this.mapControlVariable.parameter_by_location__4.wktValue?Z.$emit("getVisualization"):this.$notify({title:"Warning",message:"Please select locations on all dropdown menu.",type:"warning"})}else this.$notify({title:"Warning",message:"Please Select a pollutant",type:"warning"});else this.location_by_pollutant_value1.length>0&&this.location_by_pollutant_value2.length>0&&this.location_by_pollutant_value3.length>0&&this.location_by_pollutant_value4.length>0?Z.$emit("getVisualization"):this.$notify({title:"Warning",message:"Please select pollutants on all dropdown menu.",type:"warning"});else"Parameter"==this.mapControlVariable.select_by?this.mapControlVariable.parameter_by_pollutant_value.length?this.mapControlVariable.parameter_by_location__1.wktValue&&this.mapControlVariable.parameter_by_location__2.wktValue&&this.mapControlVariable.parameter_by_location__3.wktValue&&this.mapControlVariable.parameter_by_location__4.wktValue?Z.$emit("getVisualization"):this.$notify({title:"Warning",message:"Please select locations on all dropdown menu.",type:"warning"}):this.$notify({title:"Warning",message:"Please Select a pollutant",type:"warning"}):this.location_by_pollutant_value1.length>0&&this.location_by_pollutant_value2.length>0&&this.location_by_pollutant_value3.length>0&&this.location_by_pollutant_value4.length>0&&this.mapControlVariable.location_by_wktValue?Z.$emit("getVisualization"):this.$notify({title:"Warning",message:"Please select pollutants on all dropdown menu.",type:"warning"})},ObservationStationOption:function(){"Parameter"==this.mapControlVariable.select_by?this.AirPollutionWatchApp.cascaderObject[this.mapControlVariable.data_period].data.forEach((function(e){e.children.forEach((function(e){e.children&&delete e.children}))})):this.AirPollutionWatchApp.cascaderObject[this.mapControlVariable.data_period].data.forEach((function(e){e.children.forEach((function(e){e.childrenData&&(e.children=e.childrenData)}))}))},getStationInfoObject:function(e){var t={};return this.AirPollutionWatchApp.cascaderObject[this.mapControlVariable.data_period].data.filter((function(a){return a.children.filter((function(a){return a.value==e&&(t=a),a.value==e})).length>0})),t},SetLayerOfSelectByParameterLayer:function(e){if(this.mapControlVariable.parameter_by_pollutant_value.length){var t=this.getStationInfoObject(this.mapControlVariable.parameter_by_pollutant_value[1]),a=this.getBindedLayer(t.layerId);a.setVisibleDivBind(e)}},setLayerVisible:function(e,t){var a=this.getBindedLayer(e);t?a.setVisible(t):a.setVisibleDivBind(t)},onChangePollutantsOnSelectByLocation:function(e,t){if(e.length){var a=this.getStationInfoObject(e[1]);if(0!=Object.keys(a).length){var n=this.getBindedLayer(a.layerId);n.setVisibleDivBind(!0)}}if(t.length){var o=0;if(this.location_by_pollutant_value1.length&&this.location_by_pollutant_value1[1]==t[1]&&(o+=1),this.location_by_pollutant_value2.length&&this.location_by_pollutant_value2[1]==t[1]&&(o+=1),this.location_by_pollutant_value3.length&&this.location_by_pollutant_value3[1]==t[1]&&(o+=1),this.location_by_pollutant_value4.length&&this.location_by_pollutant_value4[1]==t[1]&&(o+=1),0===o){var r=this.getStationInfoObject(t[1]);if(0!=Object.keys(r).length){var l=this.getBindedLayer(r.layerId);l.setVisibleDivBind(!1)}}}console.log(e),console.log(t)}}),computed:Object(K["a"])(Object(K["a"])(Object(K["a"])({},Object(Ce["e"])(["selectInteraction","mapObject","TimeSeriesLayerCollection","WorkingVectorLayer","mapControlVariable"])),Object(Ce["c"])(["getBindedLayer","getLayer"])),{},{cascaderData:function(){return this.AirPollutionWatchApp.cascaderObject[this.mapControlVariable.data_period].data},SelectDefaultLocation:function(){return this.mapControlVariable.default_location},SelectLocationBy:function(){return this.mapControlVariable.location_by},SelectByOption:function(){return this.mapControlVariable.select_by},SelectDataPeriod:function(){return this.mapControlVariable.data_period},SelectByParameterPollutant:function(){return this.mapControlVariable.parameter_by_pollutant_value},location_by_pollutant_value1:function(){return this.mapControlVariable.location_by_pollutant_value1},location_by_pollutant_value2:function(){return this.mapControlVariable.location_by_pollutant_value2},location_by_pollutant_value3:function(){return this.mapControlVariable.location_by_pollutant_value3},location_by_pollutant_value4:function(){return this.mapControlVariable.location_by_pollutant_value4}}),mounted:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCityData();case 2:return a=t.sent,e.options.default_location=a.data,e.selectInteraction.on("select",(function(){e.featureSelectorDeleteUpdate()})),t.next=7,e.addLayersToMap();case 7:console.log("all complete"),e.mapControlVariable.select_by=it[e.mapControlVariable.data_period].select_by,e.mapControlVariable.parameter_by_pollutant_value=it[e.mapControlVariable.data_period].parameter_by_pollutant_value,setTimeout((function(){e.computeData()}),100);case 11:case"end":return t.stop()}}),t)})))()},created:function(){"Recent"===this.mapControlVariable.data_period?console.log("Recent"):"Archive"===this.dataPeriod?console.log("Archive"):console.log("Forecast")},deactivated:function(){}};a("c08e");const ft=f()(_t,[["render",$e],["__scopeId","data-v-9810e6ce"]]);var ht=ft,gt=a("466b"),yt=a.n(gt),Ot={class:"card-box full-height full-width about-div"},vt={id:"map-container2",ref:"LayerSelectorDropdown"},St=Object(n["createElementVNode"])("button",null,[Object(n["createElementVNode"])("img",{src:yt.a,style:{height:"20px",width:"20px"}})],-1),Ct=[St],wt=Object(n["createElementVNode"])("span",null,[Object(n["createElementVNode"])("div",{class:"layerCollection"})],-1);function Vt(e,t,a,o,r,l){var i=Object(n["resolveComponent"])("el-drawer"),c=Object(n["resolveComponent"])("PrintMap");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ot,[Object(n["createElementVNode"])("div",vt,null,512),Object(n["createElementVNode"])("div",{id:"layerSwitcherDiv",class:"ol-unselectable ol-control",onClick:t[0]||(t[0]=function(e){return l.LayerSwitcherClick()})},Ct),Object(n["createVNode"])(i,{title:"Layers",modelValue:r.drawer,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.drawer=e}),"custom-class":"drawerCustomCSS","append-to-body":r.drawerAppendToBody,modal:!1,"modal-class":"drawerForLayersList"},{default:Object(n["withCtx"])((function(){return[wt]})),_:1},8,["modelValue","append-to-body"]),Object(n["createVNode"])(c)])}a("841c"),a("5bc0");var Dt=a("5eee"),jt=a("3900"),It=a("d0e9"),xt=a("480c"),Pt=a("a2c7"),At=a("790a"),Tt=a("7a09"),Lt=(a("1a87"),a("32d0")),Et=a("6cbf"),kt=a("345d"),Nt=a("53e0"),Mt=a.n(Nt),Rt=a("5bc3"),Gt=a("2ce2"),Bt=a("ac29"),Ft=a("3ef8"),Wt=a("f087"),Ut=a("e887"),zt=a("c50e"),$t=(a("faaa"),a("ce2c")),Ht=a("9d47"),Yt=a("21bc"),qt=function(e){return Object(n["pushScopeId"])("data-v-e9d57d5c"),e=e(),Object(n["popScopeId"])(),e},Kt={class:""},Xt=Object(n["createTextVNode"])("Cancel"),Qt=Object(n["createTextVNode"])("Submit "),Zt=qt((function(){return Object(n["createElementVNode"])("div",{class:"map-print-controls"},[Object(n["createElementVNode"])("div",{class:"muted-text"},"Adjust the map extent as per your requirement."),Object(n["createElementVNode"])("div",{class:"grid-content bg-purple-light",id:"map-control-printing"})],-1)}));function Jt(e,t,a,o,r,l){var i=Object(n["resolveComponent"])("el-input"),c=Object(n["resolveComponent"])("el-form-item"),s=Object(n["resolveComponent"])("el-checkbox"),u=Object(n["resolveComponent"])("mapLagend"),d=Object(n["resolveComponent"])("el-collapse-item"),p=Object(n["resolveComponent"])("el-collapse"),m=Object(n["resolveComponent"])("el-button"),b=Object(n["resolveComponent"])("el-form"),_=Object(n["resolveComponent"])("el-col"),f=Object(n["resolveComponent"])("el-row"),h=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Kt,[Object(n["createVNode"])(h,{modelValue:e.PrintMapComponentData.PrintMapDialogVisible,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.PrintMapComponentData.PrintMapDialogVisible=t}),title:"Print Map",width:"95%","before-close":l.handleClose,"append-to-body":!0,top:"3vh"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(_,{span:8,class:"printing-control"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{ref:"MapPrintValidateForm",model:r.MapPrintValidateForm,"label-width":"100px",class:"demo-ruleForm",size:"mini","label-position":"top"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{label:"Map Title",prop:"title",rules:[{required:!0,message:"Map title is required"},{type:"string",message:"Map title must be string"}]},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{modelValue:r.MapPrintValidateForm.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.MapPrintValidateForm.title=e}),modelModifiers:{number:!0},type:"age",autocomplete:"off"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(c,{label:"Output File Name",prop:"fileName",rules:[{required:!0,message:"Map title is required"},{type:"string",message:"Output File Name must be string"}]},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{modelValue:r.MapPrintValidateForm.fileName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.MapPrintValidateForm.fileName=e}),modelModifiers:{number:!0},type:"fileName",autocomplete:"off"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(c,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{modelValue:r.AccordionActiveName,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.AccordionActiveName=e}),accordion:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{name:"1"},{title:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{modelValue:r.CheckSelectAll,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.CheckSelectAll=e}),label:"Select legend all items",class:"selectAllLegend"},null,8,["modelValue"])]})),default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.legendInfos,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:e.id,item:e},null,8,["item"])})),128))]})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(c,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{onClick:l.Cancel},{default:Object(n["withCtx"])((function(){return[Xt]})),_:1},8,["onClick"]),Object(n["createVNode"])(m,{type:"primary",onClick:t[4]||(t[4]=function(e){return l.submitForm("MapPrintValidateForm")})},{default:Object(n["withCtx"])((function(){return[Qt]})),_:1})]})),_:1})]})),_:1},8,["model"])]})),_:1}),Object(n["createVNode"])(_,{span:16},{default:Object(n["withCtx"])((function(){return[Zt]})),_:1})]})),_:1})]})),_:1},8,["modelValue","before-close"])])}var ea=a("3835"),ta=a("2909"),aa=(a("d81d"),a("466d"),a("cb29"),a("caad"),a("2532"),a("e511")),na=a.n(aa),oa=function(e){return Object(n["pushScopeId"])("data-v-625a8cfc"),e=e(),Object(n["popScopeId"])(),e},ra={class:"layer-legend-item"},la=oa((function(){return Object(n["createElementVNode"])("br",null,null,-1)})),ia=["src"];function ca(e,t,a,o,r,l){var i=Object(n["resolveComponent"])("el-checkbox");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ra,[Object(n["createVNode"])(i,{modelValue:l.itemVisible.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.itemVisible.visible=e}),label:a.item.title},null,8,["modelValue","label"]),la,Object(n["createElementVNode"])("img",{class:"legend-image",src:a.item.legendPath},null,8,ia)])}var sa={name:"mapLagend",data:function(){return{checked1:!0}},props:{item:{type:Object,required:!0}},methods:{calculateHeightWidth:function(){var e=new Image;e.src=this.item.legendPath;var t=this.item;e.onload=function(){t.imgWidth=this.width,t.imgHeight=this.height}}},computed:{itemVisible:function(){return this.item}},mounted:function(){this.calculateHeightWidth()},beforeCreate:function(){}};a("6478");const ua=f()(sa,[["render",ca],["__scopeId","data-v-625a8cfc"]]);var da=ua,pa=null;pa="http://smog.icimod.org";var ma={Base:pa,CityData:"apps/airquality/getCityData",Aeronet:"apps/airquality/aeronetaodpm",USEmbassyAOD:"apps/airquality/usembassypm",getGeoJSONofStations:"apps/airquality/getGeoJSONofStations",getGeoJsonForOneSatation:"apps/airquality/getGeoJsonForOneSatation",getAllStationsID:"apps/airquality/getAllStationsID",commonAPI:"apps/airquality/getData/",RegionGeojson:"apps/airquality/geojsonregion",AOIPolygon:"apps/airquality/aoipolygon",GetMapImage:"apps/airquality/getmapimage/",GetImage:"apps/airquality/downloadImage",SlicedFromCatalog:"apps/airquality/slicedfromcatalog/",TimeSeriesRasterQuery:"apps/airquality/timeseriesmodeldata/"},ba={name:"PrintMap",data:function(){return{MapPrintValidateForm:{title:"",fileName:""},AccordionActiveName:"",CheckSelectAll:!1,PROXY_PREFIX:ma.Base+"/apps/airquality/WMSProxy/",legendInfos:[],LegendUIList:[]}},components:{mapLagend:da},watch:{CheckSelectAll:function(e){this.legendInfos.forEach((function(t){t.visible=e}))}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;console.log("test");var a=t.getMapPDFLayout(),n=t.MapPrintValidateForm.title,o=t.MapPrintValidateForm.fileName,r=t.mapObject.getSize(),l=t.mapObject.getView().getResolution();t.mapObject.once("rendercomplete",(function(){var e=document.createElement("canvas");e.width=a.mapFrameSizePxl[0],e.height=a.mapFrameSizePxl[1];var i=e.getContext("2d"),c=t.legendInfos.filter((function(e){return!0===e.visible})).sort((function(e,t){return e.imgHeight-t.imgHeight}));t.copyOLMapTo(i),console.log(c),c.length&&t.addLegendsTo(i,{legendInfos:c,pos:a.legendBoxPxl.pos,columnWidth:a.legendBoxPxl.columnWidth,height:a.legendBoxPxl.height}),t.drawPolygon(i,"black",a.northArrowCoordsPxl),t.drawScaleBar(i,{x:e.width,y:e.height}),i.strokeStyle="black",i.strokeRect(0,0,e.width,e.height),t.createMapPDF(n,o,e,a),t.mapObject.setSize(r),t.mapObject.getView().setResolution(l)}));var i=a.mapFrameSizePxl;t.mapObject.setSize(i);var c=Math.min(i[0]/r[0],i[1]/r[1]);t.mapObject.getView().setResolution(l/c)}))},resetForm:function(e){this.$refs[e].resetFields()},Cancel:function(){this.PrintMapComponentData.PrintMapDialogVisible=!1,this.backToNormal()},handleClose:function(e){e(),this.backToNormal()},backToNormal:function(){var e=document.querySelector("#map-container2");this.mapObject.setTarget(e),this.deproxifyWMSLayers()},getMapPDFLayout:function(){var e=120,t=function(t){return t*e/25.4},a=10,n=15,o=297,r=210,l=o-2*a,i=r-n-a,c=t(i),s=.42,u=c*s,d={x:t(2),y:c*(1-s)-t(2)},p=9,m=12,b=6,_=l-(6+p/2),f=[[_,b],[_+p/2,b+m],[_,b+2*m/3],[_-p/2,b+m]];return{format:"a4",pageDim:[o,r],margin:a,topMargin:n,mapFrameSize:[l,i],mapFrameSizePxl:[t(l),c],northArrowCoordsPxl:f.map((function(e){return e.map(t)})),legendBoxPxl:{pos:d,height:u,columnWidth:230}}},copyOLMapTo:function(e){e.fillStyle="white",e.fillRect(0,0,e.canvas.width,e.canvas.height),document.querySelectorAll(".ol-layer canvas").forEach((function(t){if(t.width>0){var a=t.parentNode.style.opacity;e.globalAlpha=""===a?1:Number(a);var n=t.style.transform.match(/^matrix\((.*)\)$/)[1].split(",").map(Number);e.setTransform.apply(e,Object(ta["a"])(n)),e.drawImage(t,0,0)}})),e.setTransform(1,0,0,1,0,0)},addLegendsTo:function(e,t){var a=t.legendInfos,n=t.pos,o=t.columnWidth,r=t.height,l=10,i=l,c=l,s=22,u=this.getLegendBoxDimension(l,s,o,a,r),d=Object(ea["a"])(u,2),p=d[0],m=d[1];n.y+=r-m,e.textBaseline="bottom",e.fillStyle="black",e.font="bold 25px Times",e.fillText("Legends",n.x+l,n.y-l),e.fillStyle="white",e.fillRect(n.x,n.y,p,m),e.fillStyle="black",e.font="100 18px Times",a.forEach((function(t){var a=t.imgHeight+s+l;c+a>r&&(i+=l+o,c=l);var u=n.x+i,d=n.y+c,p=document.createElement("img");p.setAttribute("src",t.legendPath),e.fillText(t.title,u,d+s),e.drawImage(p,u,d+s,t.imgWidth,t.imgHeight),c+=a})),e.lineWidth=1,e.closePath(),e.strokeRect(n.x,n.y,p,m)},getLegendBoxDimension:function(e,t,a,n,o){var r=0,l=n.reduce((function(n,l){var i=l.imgHeight+t+e;return n.y+i>o&&(n.x+=e+a,n.y=e),n.y+=i,r<n.y&&(r=n.y),n}),{x:e,y:e}),i=l.x+a+e,c=r;return[i,c]},drawPolygon:function(e,t,a){e.lineWidth=2,e.fillStyle=t,e.beginPath(),e.moveTo.apply(e,Object(ta["a"])(a[0]));for(var n=1;n<a.length;n++)e.lineTo.apply(e,Object(ta["a"])(a[n]));e.closePath(),e.fill()},drawScaleBar:function(e,t){var a=this.getScaleBarInfo(),n=a.width,o=a.text,r=30,l=8,i=15,c=15,s={x:t.x-(n+2*l)-i,y:t.y-(r+2*l)-c};e.globalAlpha=.75,e.fillStyle="grey",e.fillRect(s.x,s.y,n+2*l,r+2*l),e.globalAlpha=1,e.lineWidth=1.5,e.closePath(),e.strokeStyle="white";var u=s.x+l,d=s.y+l;e.beginPath(),e.moveTo(u,d),e.lineTo(u,d+r),e.lineTo(u+n,d+r),e.lineTo(u+n,d),e.stroke(),e.textBaseline="bottom",e.textAlign="center",e.fillStyle="white",e.font="15px Times",e.fillText(o,u+n/2,d+r-l)},createMapPDF:function(e,t,a,n){var o=n.margin,r=n.topMargin,l=n.mapFrameSize,i=n.pageDim,c=n.format,s=new na.a("landscape",void 0,c);s.setFont("Times").setFontType("bold").setFontSize(15),s.text(e,parseInt(i[0]/2),9,null,null,"center");try{s.addImage(a.toDataURL("image/png"),"JPEG",o,r,l[0],l[1]),s.save("".concat(t,".pdf"))}catch(u){console.log(u)}},getScaleBarInfo:function(){var e=document.querySelector(".ol-scale-line-inner");return{width:e.clientWidth,text:e.innerText}},proxifyWMSLayers:function(){var e=this;this.TimeSeriesLayerCollection.forEach((function(t){var a=t.getProperties();if(a.changeWMSProxy){var n=t.getLayer();a.ThreddsDataServerVersion&&n.AllLayersList.forEach((function(t){var a=t.getSource(),n=a.getUrls()[0];n.includes(e.PROXY_PREFIX)||a.setUrls([e.PROXY_PREFIX+n])}))}}))},deproxifyWMSLayers:function(){var e=this;console.log("--------deproxy"),this.TimeSeriesLayerCollection.forEach((function(t){var a=t.getProperties();if(a.changeWMSProxy){var n=t.getLayer();a.ThreddsDataServerVersion&&n.AllLayersList.forEach((function(t){var a=t.getSource();a.setUrls([a.getUrls()[0].replace(e.PROXY_PREFIX,"")])}))}}))}},computed:Object(K["a"])({},Object(Ce["e"])(["PrintMapComponentData","TimeSeriesLayerCollection","mapObject"])),mounted:function(){console.log("---------------------------------mounted----------------------------------")},beforeCreate:function(){var e=this;Z.$on("OpenDialogOfPrintAndProxyfy",(function(){var t=document.querySelector("#map-control-printing");e.mapObject.setTarget(t),console.log("this looks ok"),e.mapObject.updateSize(),e.CheckSelectAll=!1,e.legendInfos=[],e.LegendUIList=[],e.proxifyWMSLayers(),e.TimeSeriesLayerCollection.filter((function(t){var a=t.getProperties();if(!0===a.visible){var n=t.getProperties(),o={id:n.id,visible:!1,title:n.title,legendPath:n.legendPath};e.legendInfos.push(o)}return!0}))}))},deactivated:function(){console.log("---------------------------------deactivated----------------------------------")}};a("a443");const _a=f()(ba,[["render",Jt],["__scopeId","data-v-e9d57d5c"]]);var fa=_a,ha={name:"mapComponentEmission",components:{PrintMap:fa},data:function(){return{drawerAppendToBody:!0,mapObj:"",HighLightedLayer:"",view:"",mapObject:"",MajorBasin:"",AllLayers:"",selectedFilesOnAYear:[],drawer:!0}},methods:Object(K["a"])(Object(K["a"])({},Object(Ce["d"])(["setSelectedLayerObj","appendTimeSeriesLayerCollection","setSelectInteraction","setMapObject","setWorkingVectorLayer"])),{},{mapInitilization:function(){var e=new xt["a"]({source:new It["a"]({attributions:[]})}),t=new Pt["a"]({center:[9388155.512006583,3291367.8109067543],zoom:4,extent:[6702855.884774126,1769255.1930753174,12194542.852403797,4812621.833531793]}),a=new Ht["a"]({units:"metric"}),n=new Dt["a"]({layers:[],target:"map-container2",controls:Object(Yt["a"])({attribution:!1}).extend([a]),view:t});n.addLayer(e),this.mapObject=n,window.mapObject=n,this.view=t,this.mapObject.addControl(new jt["a"]({element:document.getElementById("layerSwitcherDiv")})),n.getView().fit([6702855.884774126,1769255.1930753174,12194542.852403797,4812621.833531793],n.getView()),this.setMapObject(this.mapObject)},changeInventory:function(){this.addTimeDimensionLayer()},addTimeDimensionLayer:function(){return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},addGeoCodingAndInteractionBar:function(){var e=this.mapObject,t=new Lt["a"]({polygon:!0,reverse:!1,position:!0,className:"OSMBasedGeocodingEmissionPage"}),a=new ot["a"]({source:new rt["a"],zIndex:999});this.setWorkingVectorLayer(a),e.addLayer(a),e.addControl(t),t.on("select",(function(t){if(p(),t.search.geojson){var n=new Ze["a"],o=n.readFeature(t.search.geojson,{dataProjection:"EPSG:4326",featureProjection:e.getView().getProjection()});delete t.search.geojson,o.setProperties(t.search),a.getSource().addFeature(o);var r=e.getView(),l=r.getResolutionForExtent(o.getGeometry().getExtent(),e.getSize()),i=r.getZoomForResolution(l),c=Object(lt["w"])(o.getGeometry().getExtent());setTimeout((function(){r.animate({center:c,zoom:Math.min(i,16)})}),100)}else e.getView().animate({center:t.coordinate,zoom:Math.max(e.getView().getZoom(),16)});d()}));var n=new Wt["a"];n.setPosition("top-left"),e.addControl(n);var o=new Wt["a"]({toggleOne:!0,group:!1});n.addControl(o);var r=new Wt["a"];r.addControl(new Ut["a"]({html:'<i class="fa fa-times"></i>',title:"Delete",handleClick:function(){var e=l.getInteraction().getFeatures();e.getLength()?u(e.getLength()+" object(s) deleted."):u("Select an object first..."),e.forEach((function(e){console.log(e),a.getSource().removeFeature(e)})),l.getInteraction().getFeatures().clear(),l.getInteraction().dispatchEvent({type:"select"})}}));var l=new zt["a"]({html:'<i class="fa fa-hand-pointer"></i>',title:"Select",interaction:new Gt["a"]({hitTolerance:2,style:new ue["c"]({image:new $t["a"]({radius:5,stroke:new me["a"]({color:[255,0,0,1],opacity:1,width:2}),fill:new pe["a"]({color:"#e5e5ff50"})}),stroke:new me["a"]({color:[255,0,0,1],opacity:1,width:2}),fill:new pe["a"]({color:"#e5e5ff50"})}),layers:[a]}),bar:r,autoActivate:!0,active:!0});this.setSelectInteraction(l.getInteraction()),o.addControl(l),this.setSelectedLayerObj(l.getInteraction());var i=new zt["a"]({html:'<i class="fa fa-map-marker-alt" ></i>',title:"Point",interaction:new Bt["a"]({type:"Point",source:a.getSource()})});o.addControl(i);var c=new zt["a"]({html:'<i class="fa fa-draw-polygon" ></i>',title:"Polygon",interaction:new Bt["a"]({type:"Polygon",source:a.getSource(),geometryFunction:function(e,t){return this.nbpts=e[0].length,t?t.setCoordinates([e[0].concat([e[0][0]])]):t=new Rt["a"](e),t}}),bar:new Wt["a"]({controls:[new Ft["a"]({html:"undo",title:"undo last point",handleClick:function(){c.getInteraction().nbpts>1&&c.getInteraction().removeLastPoint()}}),new Ft["a"]({html:"finish",title:"finish",handleClick:function(){c.getInteraction().nbpts>3&&c.getInteraction().finishDrawing()}})]})});function s(e){var t=e.feature.getGeometry().getCoordinates(),a=Object(At["a"])(e.feature.getGeometry()),n=Math.round(a/1e6*100)/100;console.log(n);var o=new Tt["a"](t),r=Object(At["c"])(o),l=Math.round(r/1e3*100)/100;console.log(l)}function u(e){console.log(e)}function d(){a.getSource().forEachFeature((function(e){var t=null;t=e.getProperties().osm_id?[new ue["c"]({stroke:new me["a"]({color:[0,0,0,0],opacity:1,width:3}),fill:new pe["a"]({color:"#e5e5ff00"})}),new ue["c"]({image:new Et["a"]({anchor:[.5,46],anchorXUnits:"fraction",anchorYUnits:"pixels",src:Mt.a,size:Object(kt["d"])([40,45])}),stroke:new me["a"]({color:[0,0,255,1],opacity:1,width:3,lineDash:[4,8,4,8]}),fill:new pe["a"]({color:"#e5e5ff40"})})]:new ue["c"]({image:new $t["a"]({radius:5,stroke:new me["a"]({color:[255,0,0,1],opacity:1,width:2}),fill:new pe["a"]({color:"#e5e5ff50"})}),stroke:new me["a"]({color:[255,0,0,1],opacity:1,width:2}),fill:new pe["a"]({color:"#e5e5ff50"})}),e.setStyle(t)}))}function p(){var e=a.getSource().getFeatures();e.forEach((function(e){e.getProperties().osm_id&&a.getSource().removeFeature(e)}))}o.addControl(c),c.getInteraction().on("drawstart",(function(){a.getSource().once("addfeature",s)})),console.log("second"),Z.$emit("runFeatureInteractionCode")},addPrintMapFunctionality:function(){var e=this,t=new Ut["a"]({html:'<i class="fas fa-print"></i>',className:"PrintMap",title:"Print map",handleClick:function(){e.PrintMapComponentData.PrintMapDialogVisible=!0,setTimeout((function(){Z.$emit("OpenDialogOfPrintAndProxyfy")}),500)}});this.mapObject.addControl(t)},LayerSwitcherClick:function(){this.drawer=!0},handleClose:function(e,t){console.log(t)}}),computed:Object(K["a"])(Object(K["a"])({},Object(Ce["e"])(["TimeSeriesLayerCollection","PrintMapComponentData"])),{},{getInventory:function(){return(void 0).Inventory}}),created:function(){this.Inventory=this.$store.state.inventory},beforeMount:function(){},mounted:function(){var e=this;this.mapInitilization(),this.addGeoCodingAndInteractionBar(),Z.$on("InventoryChange",(function(){e.changeInventory()})),this.drawer=!1}};a("f0b3");const ga=f()(ha,[["render",Vt]]);var ya=ga,Oa={name:"emissionTabBody",components:{about:R,chartComponent:De,mapControlsEmission:ht,mapComponentEmission:ya},methods:{},mounted:function(){return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}};a("fbfe");const va=f()(Oa,[["render",y],["__scopeId","data-v-260ea976"]]);var Sa=va,Ca={name:"current",components:{NavBar:g,emissionTabBody:Sa},data:function(){return{selectedTab:"emission"}},computed:{currentTab:function(){return this.getCurrentTab()}},methods:{getCurrentTab:function(){return this.selectedTab}}};a("aba8");const wa=f()(Ca,[["render",r]]);var Va=wa,Da=a("bc3a"),ja=a.n(Da),Ia=ja.a.create({baseURL:ma.Base});function xa(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=Object(O["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){Ia.post("/"+t,a).then((function(t){e(t.data)}),(function(e){console.log("error on postapi"),console.log(e),n(e)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Aa(e){return Ta.apply(this,arguments)}function Ta(){return Ta=Object(O["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){Ia.get("/"+t).then((function(t){e(t.data)}),(function(e){console.log("hello error getApiWithoutToken"),console.log(e),a(e)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function La(){return Ea.apply(this,arguments)}function Ea(){return Ea=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=ma.CityData,e.next=3,Aa(t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function ka(e){return Na.apply(this,arguments)}function Na(){return Na=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ma.getGeoJsonForOneSatation+t,e.next=3,Aa(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Ma(e){return Ra.apply(this,arguments)}function Ra(){return Ra=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ma.SlicedFromCatalog,e.next=3,xa(a,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Ga(e){return Ba.apply(this,arguments)}function Ba(){return Ba=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ma.commonAPI,e.next=3,xa(a,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function Fa(e){return Wa.apply(this,arguments)}function Wa(){return Wa=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ma.GetMapImage,e.next=3,xa(a,t);case 3:return n=e.sent,n.image=ma.Base+"/"+ma.GetImage+"?ImageName="+n.image,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ua(e){return za.apply(this,arguments)}function za(){return za=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=ma.TimeSeriesRasterQuery,e.next=3,xa(a,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}var $a=Object(Ce["a"])({state:function(){return{CascaderInventriesComparison:[],CascaderSectorContribution:[],CascaderSectorShare:[],CascaderTimeSeries:[],SelectedLayerObj:null,selectInteraction:null,mapObject:null,TimeSeriesLayerCollection:[],WorkingVectorLayer:null,mapControlVariable:{data_period:"Recent",select_by:"Parameter",location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,location_by_wktValue:"",location_by_geometryType:"",location_by_pollutant_value1:[],location_by_pollutant_value2:[],location_by_pollutant_value3:[],location_by_pollutant_value4:[],radioValue:1,parameter_by_pollutant_value:[],is_parameter_by_pollutant_value_stationData:!0,parameter_by_pollutant_value_stationData_val1:"",parameter_by_pollutant_value_stationData_val2:"",parameter_by_pollutant_value_stationData_val3:"",parameter_by_pollutant_value_stationData_val4:"",parameter_by_location__1:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__2:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__3:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""},parameter_by_location__4:{location_by:"default_locations",default_location:"",is_AOI_Feature_selected:!1,wktValue:"",geometryType:"",featureExtent:""}},PrintMapComponentData:{PrintMapDialogVisible:!1}}},mutations:{setCascaderInventriesComparison:function(e,t){e.CascaderInventriesComparison=t},setCascaderSectorContribution:function(e,t){e.CascaderSectorContribution=t},setCascaderSectorShare:function(e,t){e.CascaderSectorShare=t},setCascaderTimeSeries:function(e,t){e.CascaderTimeSeries=t},setSelectedLayerObj:function(e,t){e.SelectedLayerObj=t},setSelectInteraction:function(e,t){e.selectInteraction=t},setMapObject:function(e,t){e.mapObject=t},setWorkingVectorLayer:function(e,t){e.WorkingVectorLayer=t},appendTimeSeriesLayerCollection:function(e,t){e.TimeSeriesLayerCollection.push(t)}},actions:{getCityData:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,La(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},getGeoJsonForOneSatation:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ka(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},PostSlicedFromCatalog:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ma(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},PostGetStationData:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ga(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},TimeSeriesRasterQuery:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ua(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},PostGet2DImage:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Fa(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()}},getters:{getLayer:function(e){return function(t){for(var a,n=0;n<e.TimeSeriesLayerCollection.length;n++)if(t==e.TimeSeriesLayerCollection[n].getProperties().id){a=e.TimeSeriesLayerCollection[n].getLayer();break}return a}},getBindedLayer:function(e){return function(t){for(var a,n=0;n<e.TimeSeriesLayerCollection.length;n++)if(t==e.TimeSeriesLayerCollection[n].getProperties().id){a=e.TimeSeriesLayerCollection[n];break}return a}}},modules:{}}),Ha=a("c3a1"),Ya=(a("d9b6"),a("ecee")),qa=a("c074");Ya["b"].add(qa["b"]),Ya["b"].add(qa["e"]),Ya["b"].add(qa["c"]),Ya["b"].add(qa["a"]),Ya["b"].add(qa["d"]),Ya["a"].watch();var Ka=Object(n["createApp"])(Va);Ka.use($a),Ka.use(Ha["a"]),Ka.mount("#app")},"466b":function(e,t,a){e.exports=a.p+"static/airquality/images/layers.svg"},"4cc0":function(e,t,a){},"53e0":function(e,t,a){e.exports=a.p+"static/airquality/images/markers_default.png"},"5a27":function(e,t,a){},6478:function(e,t,a){"use strict";a("8b97")},"6feb":function(e,t,a){},8163:function(e,t,a){e.exports=a.p+"static/airquality/images/ICIMOD_Master_logo_Blue.png"},"8b97":function(e,t,a){},a1d9:function(e,t,a){e.exports=a.p+"static/airquality/images/logo-icimod.png"},a443:function(e,t,a){"use strict";a("6feb")},a97a:function(e,t,a){e.exports=a.p+"static/airquality/images/AODAeroNet.jpg"},aba8:function(e,t,a){"use strict";a("5a27")},c08e:function(e,t,a){"use strict";a("c282")},c282:function(e,t,a){},d855:function(e,t,a){e.exports=a.p+"static/airquality/images/usembassyPm2p5.jpg"},dd73:function(e,t,a){"use strict";a("f440")},e613:function(e,t,a){e.exports=a.p+"static/airquality/images/rgblegend.jpg"},f0b3:function(e,t,a){"use strict";a("f2e9")},f2e9:function(e,t,a){},f440:function(e,t,a){},f539:function(e,t,a){},fbfe:function(e,t,a){"use strict";a("4cc0")}}]);
//# sourceMappingURL=chunk-common.eef0fb5f59a3ca8082d7.js.map